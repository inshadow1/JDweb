"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([["2898"],{998:function(e,n,r){r.r(n),r.d(n,{default:()=>u,frontMatter:()=>c,metadata:()=>t,assets:()=>o,toc:()=>d,contentTitle:()=>i});var t=JSON.parse('{"id":"Vue/1.4-\u7EC4\u4EF6\u503C\u7684\u4F20\u9012","title":"1.4-\u7EC4\u4EF6\u503C\u7684\u4F20\u9012","description":"Create by fall on:2022-03-10","source":"@site/my-docs/Vue/1.4-\u7EC4\u4EF6\u503C\u7684\u4F20\u9012.md","sourceDirName":"Vue","slug":"/Vue/1.4-\u7EC4\u4EF6\u503C\u7684\u4F20\u9012","permalink":"/docs/Vue/1.4-\u7EC4\u4EF6\u503C\u7684\u4F20\u9012","draft":false,"unlisted":false,"editUrl":"https://github.com/my-docs/Vue/1.4-\u7EC4\u4EF6\u503C\u7684\u4F20\u9012.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"1.3-vue\u4E2D\u7684\u6837\u5F0F","permalink":"/docs/Vue/1.3-vue\u4E2D\u7684\u6837\u5F0F"},"next":{"title":"2.1-\u6307\u4EE4v-option","permalink":"/docs/Vue/2.1-\u6307\u4EE4v-option"}}'),s=r("2676"),l=r("3663");let c={},i=void 0,o={},d=[{value:"\u7EC4\u4EF6\u6CE8\u518C",id:"\u7EC4\u4EF6\u6CE8\u518C",level:2},{value:"Attributes",id:"attributes",level:2},{value:"Provide",id:"provide",level:2},{value:"\u6CE8\u518C",id:"\u6CE8\u518C",level:3},{value:"\u4F7F\u7528",id:"\u4F7F\u7528",level:3},{value:"\u7EC4\u4EF6\u7684\u4F20\u9012",id:"\u7EC4\u4EF6\u7684\u4F20\u9012",level:2}];function a(e){let n={blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",ul:"ul",...(0,l.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Create by fall on:2022-03-10\r\nRecently revised in:2022-06-11"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"\u7EC4\u4EF6\u6CE8\u518C",children:"\u7EC4\u4EF6\u6CE8\u518C"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"// vue \u7684\u6CE8\u518C\u7EC4\u4EF6\r\nVue.component('componentName',{\r\n    data:function(){\r\n        return {count :0 }\r\n    },\r\n    template:`<button @click=\"handle\">\u70B9\u51FB\u4E86{{count}}\u6B21</button>`,\r\n    methods:{\r\n        handle:function(){this.count +=2;}\r\n    }\r\n})\r\n// vue \u7684\u7EC4\u4EF6\u6CE8\u518C\r\nvar helloWorld = {\r\n  data:function(){\r\n    return{msg:0}\r\n  },\r\n  template:`<button @click=\"handle\">\u70B9\u51FB\u4E86{{count}}\u6B21</button>`,\r\n  methods:{handle:function(){this.count +=2;}}\r\n}\r\nvar app1 = new Vue({\r\n  el:'app1',\r\n  components:{\r\n    'hello-world'=helloWorld\r\n  }\r\n})\r\n\n"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["data \u5FC5\u987B\u662F\u4E00\u4E2A\u51FD\u6570","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\u51FD\u6570\u58F0\u660E\u53EF\u4EE5\u786E\u4FDD\u503C\u7684\u552F\u4E00\u6027\uFF0C\u56E0\u6B64\u7EC4\u4EF6\u5728\u4F7F\u7528\u8FC7\u7A0B\u4E2D\uFF0C\u540C\u4E00\u4E2A\u7EC4\u4EF6\u4F7F\u7528\u591A\u6B21\uFF0C\u91CC\u9762\u7684\u503C\u4E5F\u662F\u76F8\u4E92\u72EC\u7ACB\u7684"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.li,{children:"\u7EC4\u5EFA\u6A21\u677F\u5185\u5BB9\u5FC5\u987B\u662F\u5355\u4E2A\u6839\u5143\u7D20"}),"\n",(0,s.jsx)(n.li,{children:"\u7EC4\u4EF6\u6A21\u677F\u5185\u5BB9\u53EF\u4EE5\u662F\u6A21\u677F\u5B57\u7B26\u4E32"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"\u5982\u679C\u60F3\u5728\u666E\u901A\u7684\u6807\u7B7E\u6A21\u677F\u4E2D\u4F7F\u7528\uFF0C\u5FC5\u987B\u91C7\u7528\u6A2A\u7EBF\u65B9\u5F0F\u4F20\u9012\u7EC4\u4EF6\uFF0C\u5982\u679C\u5728SFC\u4E2D\u4F7F\u7528\uFF0C\u5219\u4E0D\u9650\u5236\u6807\u7B7E\u6A21\u677F\u7684\u4F7F\u7528\u3002"}),"\n",(0,s.jsx)(n.h2,{id:"attributes",children:"Attributes"}),"\n",(0,s.jsxs)(n.p,{children:["\u8868\u793A\u4E00\u4E9B\u6CA1\u6709\u88AB props\uFF08\u6216\u8005 ",(0,s.jsx)(n.code,{children:"defineProps"}),"\uFF09 \u63A5\u6536\u7684\u53C2\u6570\uFF0C\u5C06\u4F1A\u901A\u8FC7 attributes \u8FDB\u884C\u7EE7\u627F\uFF0C\u6BD4\u5982\u8BF4\uFF1A",(0,s.jsx)(n.code,{children:"class"}),"\u3001",(0,s.jsx)(n.code,{children:"style"}),"\u3001",(0,s.jsx)(n.code,{children:"id"}),"\u3002"]}),"\n",(0,s.jsx)(n.p,{children:"\u4E3E\u4E2A\u4F8B\u5B50\uFF1A"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-vue",children:"\x3c!-- \u5B50\u7EC4\u4EF6 MyButton --\x3e\r\n<template>\r\n<button>click me</button>\r\n</template>\r\n\x3c!-- \u7236\u7EC4\u4EF6 --\x3e\r\n<template>\r\n<MyButton class='button'>\r\n</template>\n"})}),"\n",(0,s.jsxs)(n.p,{children:["\u4E0A\u9762\u7684\u7EC4\u4EF6\u5728\u8FD0\u884C\u540E\uFF0C \u56E0\u4E3A \u5E76\u6CA1\u6709\u58F0\u660E prop \u63A5\u6536 ",(0,s.jsx)(n.code,{children:"class"}),"\uFF0C\u6240\u4EE5 ",(0,s.jsx)(n.code,{children:"class"})," \u4F1A\u7531\u5B50\u7EC4\u4EF6\u7684 button \u7EE7\u627F\uFF0C\u5982\u679C\u5B50\u7EC4\u4EF6\u5DF2\u7ECF\u6709 class \u90A3\u4E48\u5C31\u4F1A\u8FDB\u884C\u5408\u5E76\uFF08\u90FD\u751F\u6548\uFF09"]}),"\n",(0,s.jsxs)(n.p,{children:["\u4E8B\u4EF6\u76D1\u542C\u540C\u6837\u4F1A\u751F\u6548\uFF0C\u5B50\u7EC4\u4EF6\u5185\u7ED1\u5B9A\u4E00\u4E2A ",(0,s.jsx)(n.code,{children:"v-on:click"}),"\uFF0C\u7236\u7EC4\u4EF6\u7ED1\u5B9A\u4E00\u4E2A ",(0,s.jsx)(n.code,{children:"v-on:click"}),"\uFF0C\u90A3\u4E48\u4E24\u4E2A\u90FD\u4F1A\u88AB\u89E6\u53D1"]}),"\n",(0,s.jsx)(n.h2,{id:"provide",children:"Provide"}),"\n",(0,s.jsx)(n.p,{children:"provide \u548C inject \u901A\u5E38\u662F\u642D\u914D\u8D77\u6765\u4F7F\u7528\u3002"}),"\n",(0,s.jsx)(n.h3,{id:"\u6CE8\u518C",children:"\u6CE8\u518C"}),"\n",(0,s.jsx)(n.p,{children:"\u5168\u5C40\u6CE8\u518C\uFF1A"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"import {createApp} from 'vue'\r\nconst app = createApp({})\r\napp.provide('message','\u4E00\u4E9B\u4FE1\u606F')\n"})}),"\n",(0,s.jsx)(n.p,{children:"\u5C40\u90E8\u6CE8\u518C\uFF1A"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"// setup \u5199\u6CD5\r\nimport { provide,readonly } from 'vue'\r\n/* \u6CE8\u5165\u540D\uFF0C\u503C */\r\nconst msg = ref('\u54C8\u54C8\u54C8')\r\nprovide('message',msg)\r\n// \u5982\u679C\u4E0D\u5E0C\u671B\u63D0\u4F9B\u7684\u6570\u636E\u88AB\u4FEE\u6539\uFF0C\u6DFB\u52A0 readonly\r\nprovide('message'.readonly(msg))\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-vue",children:"\x3c!-- \u9009\u9879\u5F0F API \u5199\u6CD5\u4E00 --\x3e\r\n<script>\r\n  export default{\r\n    data(){ return {message:'hello'}    },\r\n    provide(){ return{      message:this.message    }    },\r\n  }\r\n<\/script>\r\n\x3c!-- \u9009\u9879\u5F0F API \u5199\u6CD5\u4E8C --\x3e\r\n<script>\r\n  export default{\r\n    provide:{\r\n      message:'hello'\r\n    },\r\n  }\r\n<\/script>\n"})}),"\n",(0,s.jsx)(n.h3,{id:"\u4F7F\u7528",children:"\u4F7F\u7528"}),"\n",(0,s.jsx)(n.p,{children:"\u9009\u9879\u5F0F"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"export default{\r\n  inject:['message'],\r\n  data(){\r\n    return{receiveData:this.message}\r\n  }\r\n}\n"})}),"\n",(0,s.jsx)(n.p,{children:"\u7EC4\u5408\u5F0F"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"import {inject} from 'vue'\r\nconst msg = inject('message')\r\nconst msg2 = inject('message','\u9ED8\u8BA4\u503C') // \u5982\u679C\u6CA1\u6709\u4F20\u9012\uFF0C\u4F1A\u8FD4\u56DE\u7B2C\u4E8C\u4E2A\u53C2\u6570\u4F5C\u4E3A\u9ED8\u8BA4\u503C\n"})}),"\n",(0,s.jsx)(n.p,{children:"\u63A8\u8350\u5728\u4F9B\u7ED9\u65B9\u7EC4\u4EF6\u5185\u58F0\u660E\u5E76\u63D0\u4F9B\u4E00\u4E2A\u66F4\u6539\u6570\u636E\u7684\u65B9\u6CD5\u51FD\u6570"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"const {msg,updateMsg} = inject('message')\n"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"\u5728\u5927\u578B\u9879\u76EE\u4E2D\u4F7F\u7528\u65F6\uFF0C\u9700\u8981\u901A\u8FC7 Key \u4FDD\u8BC1\u552F\u4E00\u6027\uFF0C\u5E76\u4E14\u901A\u8FC7\u7EDF\u4E00\u7684\u6587\u4EF6\u5F15\u5165\u8BE5\u5185\u5BB9\uFF0C\u786E\u4FDD\u4E0D\u4F1A\u5BFC\u81F4\u4F20\u9012\u503C\u7684\u51B2\u7A81\u3002"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"\u7EC4\u4EF6\u7684\u4F20\u9012",children:"\u7EC4\u4EF6\u7684\u4F20\u9012"}),"\n",(0,s.jsxs)(n.p,{children:["\u5728 React \u4E2D\uFF0C\u6240\u6709\u7EC4\u4EF6\uFF0C\u53C2\u6570\u90FD\u53EF\u4EE5\u901A\u8FC7 ",(0,s.jsx)(n.code,{children:"props"})," \u76F4\u63A5\u4F20\u9012\u51FD\u6570\u76F4\u63A5\u4F20\u9012\u7ED9\u5B50\u7EC4\u4EF6\uFF0Cvue \u4E2D\uFF0C\u4E0D\u80FD\u76F4\u63A5\u5411\u5B50\u7EC4\u4EF6\u4E2D\u4F20\u9012\u5185\u5BB9\uFF0C\u6240\u4EE5\u901A\u8FC7 ",(0,s.jsx)(n.code,{children:"component"})," \u7EC4\u4EF6\u5B9E\u73B0"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-vue",children:"<component :is=\"MyButton\"></component>\r\n<script setup>\r\nimport MyButton from 'my-button'\r\n<\/script>\n"})})]})}function u(e={}){let{wrapper:n}={...(0,l.a)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(a,{...e})}):a(e)}},3663:function(e,n,r){r.d(n,{Z:function(){return i},a:function(){return c}});var t=r(5271);let s={},l=t.createContext(s);function c(e){let n=t.useContext(l);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:c(e.components),t.createElement(l.Provider,{value:n},e.children)}}}]);