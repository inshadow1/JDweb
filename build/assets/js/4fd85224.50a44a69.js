"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([["9997"],{6449:function(e,r,n){n.r(r),n.d(r,{default:()=>u,frontMatter:()=>c,metadata:()=>t,assets:()=>s,toc:()=>a,contentTitle:()=>i});var t=JSON.parse('{"id":"\u540E\u7AEF/docker/2.3-Dockerfile","title":"2.3-Dockerfile","description":"Create by fall on 26 Jan 2025","source":"@site/my-docs/\u540E\u7AEF/docker/2.3-Dockerfile.md","sourceDirName":"\u540E\u7AEF/docker","slug":"/\u540E\u7AEF/docker/2.3-Dockerfile","permalink":"/docs/\u540E\u7AEF/docker/2.3-Dockerfile","draft":false,"unlisted":false,"editUrl":"https://github.com/my-docs/\u540E\u7AEF/docker/2.3-Dockerfile.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"2.2-docker build","permalink":"/docs/\u540E\u7AEF/docker/2.2-docker build"},"next":{"title":"3.1-gitlab","permalink":"/docs/\u540E\u7AEF/docker/3.1-gitlab"}}'),o=n("5893"),l=n("65");let c={},i=void 0,s={},a=[{value:"Dockerfile",id:"dockerfile",level:2}];function d(e){let r={blockquote:"blockquote",code:"code",h2:"h2",p:"p",pre:"pre",strong:"strong",...(0,l.a)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(r.blockquote,{children:["\n",(0,o.jsxs)(r.p,{children:["Create by ",(0,o.jsx)(r.strong,{children:"fall"})," on 26 Jan 2025\r\nRecently revised in 01 Mar 2023"]}),"\n"]}),"\n",(0,o.jsx)(r.h2,{id:"dockerfile",children:"Dockerfile"}),"\n",(0,o.jsx)(r.p,{children:"Dockerfile \u4E2D\u6700\u5E38\u7528\u547D\u4EE4"}),"\n",(0,o.jsx)(r.pre,{children:(0,o.jsx)(r.code,{className:"language-dockerfile",children:'# syntax=docker/dockerfile:1\r\n# \u9996\u884C\u8868\u793A\u6587\u4EF6\u5B9A\u4E49\uFF0C\u53EF\u4EE5\u5FFD\u7565\uFF0C\u8BE5\u547D\u4EE4\u8868\u793A docker build \u65F6\uFF0C\u59CB\u7EC8\u4F7F\u7528\u7248\u672C 1 \u8BED\u6CD5\u7684\u6700\u65B0\u7248\u672C\r\n# \u5B9A\u4E49\u4E00\u4E2A\u57FA\u672C\u7684\u955C\u50CF\uFF0C\u4E4B\u540E\u7684\u6240\u6709\u6307\u4EE4\u90FD\u5728\u8BE5 image \u4E0A\u8FD0\u884C\r\nFROM ubuntu:22.04\r\n\r\n# \u53EF\u4EE5\u5728\u4E00\u4E2A\u65B0 ubuntu:22.04 \u73AF\u5883\u5185\u6267\u884C\u4EFB\u4F55\u547D\u4EE4\r\n# \u6267\u884C\u547D\u4EE4\uFF0C\u66F4\u65B0 apt-get \u5E76\u4E14\u5B89\u88C5 python \u6240\u9700\u73AF\u5883\r\nRUN apt-get update && apt-get install -y python3 python3-pip\r\nRUN pip install flask==3.0.*\r\n\r\n# \u4ECE\u672C\u5730\u4E0A\u4E0B\u6587\u4E2D\u590D\u5236\u6587\u4EF6\u5230\u5BB9\u5668\u5185\u7684 / \u8DEF\u5F84\r\nCOPY hello.py /\r\n\r\n# \u8BBE\u7F6E\u73AF\u5883\u53D8\u91CF\r\nENV FLASK_APP=hello\r\n\r\n# \u66B4\u9732\u7AEF\u53E3\uFF0C\u8868\u660E\u6709\u4E00\u4E2A\u670D\u52A1\u5728 8000 \u7AEF\u53E3\u4E0A\u76D1\u542C\r\nEXPOSE 8000\r\n\r\n# \u6700\u7EC8\uFF0C\u5F53\u7528\u6237\u901A\u8FC7\u8BE5 image \u521B\u5EFA\u4E00\u4E2A\u5BB9\u5668\u65F6\uFF0C\u8FD0\u884C\u8BE5\u5185\u5BB9\r\nCMD ["flask", "run", "--host", "0.0.0.0", "--port", "8000"]\r\n# \u547D\u4EE4\u6709\u4E24\u79CD\u7C7B\u578B\uFF0Cexec form\uFF0Cshell form\uFF0C\u4E0A\u9762\u7684\u547D\u4EE4\u65F6 exec \u7C7B\u578B\r\n# shell form\r\n# CMD flask run --host 0.0.0.0 --port 8000\n'})})]})}function u(e={}){let{wrapper:r}={...(0,l.a)(),...e.components};return r?(0,o.jsx)(r,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},65:function(e,r,n){n.d(r,{Z:function(){return i},a:function(){return c}});var t=n(7294);let o={},l=t.createContext(o);function c(e){let r=t.useContext(l);return t.useMemo(function(){return"function"==typeof e?e(r):{...r,...e}},[r,e])}function i(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:c(e.components),t.createElement(l.Provider,{value:r},e.children)}}}]);