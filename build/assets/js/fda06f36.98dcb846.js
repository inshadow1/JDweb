"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([["6694"],{8097:function(e,n,i){i.r(n),i.d(n,{default:()=>a,frontMatter:()=>c,metadata:()=>s,assets:()=>o,toc:()=>t,contentTitle:()=>d});var s=JSON.parse('{"id":"\u5927\u524D\u7AEF\u77E5\u8BC6\u70B9/3.1-\u540C\u6E90\u7B56\u7565","title":"3.1-\u540C\u6E90\u7B56\u7565","description":"Create by fall on 03 Feb 2022","source":"@site/my-docs/\u5927\u524D\u7AEF\u77E5\u8BC6\u70B9/3.1-\u540C\u6E90\u7B56\u7565.md","sourceDirName":"\u5927\u524D\u7AEF\u77E5\u8BC6\u70B9","slug":"/\u5927\u524D\u7AEF\u77E5\u8BC6\u70B9/3.1-\u540C\u6E90\u7B56\u7565","permalink":"/docs/\u5927\u524D\u7AEF\u77E5\u8BC6\u70B9/3.1-\u540C\u6E90\u7B56\u7565","draft":false,"unlisted":false,"editUrl":"https://github.com/my-docs/\u5927\u524D\u7AEF\u77E5\u8BC6\u70B9/3.1-\u540C\u6E90\u7B56\u7565.md","tags":[],"version":"current","sidebarPosition":41,"frontMatter":{"sidebar_position":41},"sidebar":"tutorialSidebar","previous":{"title":"2.6-Jamstack\uFF08SSG\uFF09","permalink":"/docs/\u5927\u524D\u7AEF\u77E5\u8BC6\u70B9/2.6-Jamstack\uFF08SSG\uFF09"},"next":{"title":"3.2-HTTP\u534F\u8BAE","permalink":"/docs/\u5927\u524D\u7AEF\u77E5\u8BC6\u70B9/3.2-HTTP\u534F\u8BAE"}}'),l=i("2676"),r=i("3663");let c={sidebar_position:41},d=void 0,o={},t=[{value:"\u540C\u6E90\u7B56\u7565",id:"\u540C\u6E90\u7B56\u7565",level:2},{value:"\u8DE8\u57DF",id:"\u8DE8\u57DF",level:2},{value:"JSONP",id:"jsonp",level:3},{value:"CORS",id:"cors",level:3},{value:"postMessage",id:"postmessage",level:3},{value:"websocket",id:"websocket",level:3},{value:"Node \u4E2D\u95F4\u4EF6\u4EE3\u7406",id:"node-\u4E2D\u95F4\u4EF6\u4EE3\u7406",level:3},{value:"nginx \u53CD\u5411\u4EE3\u7406",id:"nginx-\u53CD\u5411\u4EE3\u7406",level:3},{value:"window.name + iframe",id:"windowname--iframe",level:3},{value:"location.hash +  iframe",id:"locationhash---iframe",level:3},{value:"document.domain + iframe",id:"documentdomain--iframe",level:3},{value:"\u53C2\u8003\u6587\u7AE0",id:"\u53C2\u8003\u6587\u7AE0",level:2}];function h(e){let n={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.a)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsxs)(n.p,{children:["Create by ",(0,l.jsx)(n.strong,{children:"fall"})," on 03 Feb 2022\r\nRecently revised in 29 Dec 2023"]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"\u540C\u6E90\u7B56\u7565",children:"\u540C\u6E90\u7B56\u7565"}),"\n",(0,l.jsx)(n.p,{children:"Same-Origin Policy"}),"\n",(0,l.jsx)(n.p,{children:"\u540C\u6E90\u7B56\u7565\uFF1A\u540C\u57DF\u540D\uFF0C\u540C\u7AEF\u53E3\u53F7\uFF0C\u540C\u534F\u8BAE\u3002\u5B83\u662F\u6D4F\u89C8\u5668\u6700\u6838\u5FC3\u6700\u57FA\u672C\u7684\u5B89\u5168\u529F\u80FD\u3002"}),"\n",(0,l.jsx)(n.p,{children:"\u4E0D\u540C\u6E90\u7684\u5BA2\u6237\u7AEF\u811A\u672C\u5728\u6CA1\u6709\u660E\u786E\u6388\u6743\u7684\u60C5\u51B5\u4E0B\u662F\u4E0D\u5141\u8BB8\u8BFB\u5199\u5176\u4ED6\u7F51\u7AD9\u7684\u8D44\u6E90\u3002"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"\u540C\u6E90\u7B56\u7565\u7684\u9650\u5236"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Cookie\u3001LocalStorage \u548C IndexDB \u65E0\u6CD5\u8BFB\u53D6\u3002"}),"\n",(0,l.jsx)(n.li,{children:"DOM \u65E0\u6CD5\u83B7\u5F97\u3002"}),"\n",(0,l.jsx)(n.li,{children:"AJAX \u8BF7\u6C42\u4E0D\u80FD\u53D1\u9001\u3002"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"\u540C\u6E90\u7B56\u7565\u4F5C\u7528"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\u9632\u6B62\u6076\u610F\u7F51\u9875\u53EF\u4EE5\u83B7\u53D6\u5176\u4ED6\u7F51\u7AD9\u7684\u672C\u5730\u6570\u636E\u3002"}),"\n",(0,l.jsx)(n.li,{children:"\u9632\u6B62\u6076\u610F\u7F51\u7AD9iframe\u5176\u4ED6\u7F51\u7AD9\u7684\u65F6\u5019\uFF0C\u83B7\u53D6\u6570\u636E\u3002"}),"\n",(0,l.jsx)(n.li,{children:"\u9632\u6B62\u6076\u610F\u7F51\u7AD9\u5728\u81EA\u5DF2\u7F51\u7AD9\u6709\u8BBF\u95EE\u5176\u4ED6\u7F51\u7AD9\u7684\u6743\u5229\uFF0C\u4EE5\u514D\u901A\u8FC7cookie\u514D\u767B\uFF0C\u62FF\u5230\u6570\u636E\u3002"}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"\u8DE8\u57DF",children:"\u8DE8\u57DF"}),"\n",(0,l.jsx)(n.p,{children:"CORS\uFF08Cross-origin resource sharing\uFF09\u8DE8\u57DF\u8D44\u6E90\u5171\u4EAB"}),"\n",(0,l.jsx)(n.p,{children:"\u8DE8\u57DF\u5E76\u4E0D\u662F\u8BF7\u6C42\u53D1\u4E0D\u51FA\u53BB\uFF0C\u8BF7\u6C42\u80FD\u53D1\u51FA\u53BB\uFF0C\u670D\u52A1\u7AEF\u80FD\u6536\u5230\u8BF7\u6C42\u5E76\u6B63\u5E38\u8FD4\u56DE\u7ED3\u679C\uFF0C\u53EA\u662F\u7ED3\u679C\u88AB\u6D4F\u89C8\u5668\u62E6\u622A\u4E86\u3002"}),"\n",(0,l.jsx)(n.h3,{id:"jsonp",children:"JSONP"}),"\n",(0,l.jsxs)(n.p,{children:["\u5229\u7528 ",(0,l.jsx)(n.code,{children:"<script>"})," \u6807\u7B7E\u6CA1\u6709\u8DE8\u57DF\u9650\u5236\u7684\u6F0F\u6D1E\uFF0C\u7F51\u9875\u53EF\u4EE5\u5F97\u5230\u4ECE\u5176\u4ED6\u6765\u6E90\u52A8\u6001\u4EA7\u751F\u7684 JSON \u6570\u636E\u3002JSONP \u8BF7\u6C42\u9700\u8981\u5BF9\u65B9\u7684\u670D\u52A1\u5668\u505A\u652F\u6301\u624D\u53EF\u4EE5\u3002"]}),"\n",(0,l.jsx)(n.p,{children:"\u4F18\u70B9\u662F\u7B80\u5355\u517C\u5BB9\u6027\u597D\uFF0C\u53EF\u7528\u4E8E\u89E3\u51B3\u4E3B\u6D41\u6D4F\u89C8\u5668\u7684\u8DE8\u57DF\u6570\u636E\u8BBF\u95EE\u7684\u95EE\u9898\u3002\u7F3A\u70B9\u662F\u4EC5\u652F\u6301 get \u65B9\u6CD5\u5177\u6709\u5C40\u9650\u6027\uFF0C\u4E0D\u5B89\u5168\u53EF\u80FD\u4F1A\u906D\u53D7 XSS \u653B\u51FB\u3002"}),"\n",(0,l.jsx)(n.p,{children:"\u521B\u5EFA JSONP\uFF1A"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\u58F0\u660E\u4E00\u4E2A\u56DE\u8C03\u51FD\u6570\uFF0C\u5176\u51FD\u6570\u540D(\u5982show)\u5F53\u505A\u53C2\u6570\u503C\uFF0C\u8981\u4F20\u9012\u7ED9\u8DE8\u57DF\u8BF7\u6C42\u6570\u636E\u7684\u670D\u52A1\u5668\uFF0C\u51FD\u6570\u5F62\u53C2\u4E3A\u8981\u83B7\u53D6\u76EE\u6807\u6570\u636E(\u670D\u52A1\u5668\u8FD4\u56DE\u7684data)\u3002"}),"\n",(0,l.jsxs)(n.li,{children:["\u521B\u5EFA\u4E00\u4E2A ",(0,l.jsx)(n.code,{children:"<script>"})," \u6807\u7B7E\uFF0C\u628A\u90A3\u4E2A\u8DE8\u57DF\u7684API\u6570\u636E\u63A5\u53E3\u5730\u5740\uFF0C\u8D4B\u503C\u7ED9script\u7684src,\u8FD8\u8981\u5728\u8FD9\u4E2A\u5730\u5740\u4E2D\u5411\u670D\u52A1\u5668\u4F20\u9012\u8BE5\u51FD\u6570\u540D\uFF08\u53EF\u4EE5\u901A\u8FC7\u95EE\u53F7\u4F20\u53C2:?callback=show\uFF09\u3002"]}),"\n",(0,l.jsx)(n.li,{children:"\u670D\u52A1\u5668\u63A5\u6536\u5230\u8BF7\u6C42\u540E\uFF0C\u9700\u8981\u8FDB\u884C\u7279\u6B8A\u7684\u5904\u7406\uFF1A\u628A\u4F20\u9012\u8FDB\u6765\u7684\u51FD\u6570\u540D\u548C\u5B83\u9700\u8981\u7ED9\u4F60\u7684\u6570\u636E\u62FC\u63A5\u6210\u4E00\u4E2A\u5B57\u7B26\u4E32,\u4F8B\u5982\uFF1A\u4F20\u9012\u8FDB\u53BB\u7684\u51FD\u6570\u540D\u662Fshow\uFF0C\u5B83\u51C6\u5907\u597D\u7684\u6570\u636E\u662Fshow('\u6211\u4E0D\u7231\u4F60')\u3002"}),"\n",(0,l.jsx)(n.li,{children:"\u6700\u540E\u670D\u52A1\u5668\u628A\u51C6\u5907\u7684\u6570\u636E\u901A\u8FC7HTTP\u534F\u8BAE\u8FD4\u56DE\u7ED9\u5BA2\u6237\u7AEF\uFF0C\u5BA2\u6237\u7AEF\u518D\u8C03\u7528\u6267\u884C\u4E4B\u524D\u58F0\u660E\u7684\u56DE\u8C03\u51FD\u6570\uFF08show\uFF09\uFF0C\u5BF9\u8FD4\u56DE\u7684\u6570\u636E\u8FDB\u884C\u64CD\u4F5C\u3002"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"\u5728\u5F00\u53D1\u4E2D\u53EF\u80FD\u4F1A\u9047\u5230\u591A\u4E2A JSONP \u8BF7\u6C42\u7684\u56DE\u8C03\u51FD\u6570\u540D\u662F\u76F8\u540C\u7684\uFF0C\u8FD9\u65F6\u5019\u5C31\u9700\u8981\u81EA\u5DF1\u5C01\u88C5\u4E00\u4E2A JSONP\u51FD\u6570\u3002"}),"\n",(0,l.jsx)(n.h3,{id:"cors",children:"CORS"}),"\n",(0,l.jsx)(n.p,{children:"\u6D4F\u89C8\u5668\u4F1A\u81EA\u52A8\u8FDB\u884C CORS \u901A\u4FE1\uFF0C\u5B9E\u73B0 CORS \u901A\u4FE1\u7684\u5173\u952E\u662F\u540E\u7AEF\u3002\u53EA\u8981\u540E\u7AEF\u5B9E\u73B0\u4E86 CORS\uFF0C\u5C31\u5B9E\u73B0\u4E86\u8DE8\u57DF\u3002"}),"\n",(0,l.jsx)(n.p,{children:"\u670D\u52A1\u7AEF\u8BBE\u7F6E Access-Control-Allow-Origin \u5C31\u53EF\u4EE5\u5F00\u542F CORS\u3002 \u8BE5\u5C5E\u6027\u8868\u793A\u54EA\u4E9B\u57DF\u540D\u53EF\u4EE5\u8BBF\u95EE\u8D44\u6E90\uFF0C\u5982\u679C\u8BBE\u7F6E\u901A\u914D\u7B26\u5219\u8868\u793A\u6240\u6709\u7F51\u7AD9\u90FD\u53EF\u4EE5\u8BBF\u95EE\u8D44\u6E90\u3002"}),"\n",(0,l.jsx)(n.p,{children:"\u5B83\u7531\u4E00\u7CFB\u5217\u4F20\u8F93\u7684 HTTP \u5934\u7EC4\u6210\uFF0C\u8FD9\u4E9B HTTP \u5934\u51B3\u5B9A\u6D4F\u89C8\u5668\u662F\u5426\u963B\u6B62\u524D\u7AEF JavaScript \u4EE3\u7801\u83B7\u53D6\u8DE8\u57DF\u8BF7\u6C42\u7684\u54CD\u5E94\u3002"}),"\n",(0,l.jsx)(n.p,{children:"\u8BF7\u6C42\u548C\u54CD\u5E94\u4E2D\u7684\u5173\u4E8E CORS \u7684\u5934\u6587\u4EF6"}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"Access-Control-Allow-Origin"}),"\uFF1A\u6307\u51FA\u90A3\u4E2A\u54CD\u5E94\u53EF\u4EE5\u88AB\u5171\u4EAB"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.code,{children:"Access-Control-Allow-Headers"})}),"\n",(0,l.jsx)(n.p,{children:"\u54CD\u5E94\u5934"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:"access-control-allow-origin: https://juejin.cn\r\naccess-control-allow-headers: content-type\r\naccess-control-max-age: 1800\r\naccess-control-allow-credentials: true\r\naccess-control-allow-methods: GET, OPTIONS, HEAD, PUT, POST\n"})}),"\n",(0,l.jsx)(n.h3,{id:"postmessage",children:"postMessage"}),"\n",(0,l.jsx)(n.p,{children:"\u8DE8\u57DF\u64CD\u4F5C\u7684window\u5C5E\u6027"}),"\n",(0,l.jsx)(n.p,{children:"postMessage \u662F HTML5 XMLHttpRequest Level 2 \u4E2D\u7684 API\uFF0C\u4E3A\u6570\u4E0D\u591A\u53EF\u4EE5\u8DE8\u57DF\u64CD\u4F5C\u7684window\u5C5E\u6027\u4E4B\u4E00\uFF0C\u5B83\u53EF\u7528\u4E8E\u89E3\u51B3\u4EE5\u4E0B\u65B9\u9762\u7684\u95EE\u9898\uFF1A"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\u9875\u9762\u548C\u5176\u6253\u5F00\u7684\u65B0\u7A97\u53E3\u7684\u6570\u636E\u4F20\u9012"}),"\n",(0,l.jsx)(n.li,{children:"\u591A\u7A97\u53E3\u4E4B\u95F4\u6D88\u606F\u4F20\u9012"}),"\n",(0,l.jsx)(n.li,{children:"\u9875\u9762\u4E0E\u5D4C\u5957\u7684iframe\u6D88\u606F\u4F20\u9012"}),"\n",(0,l.jsx)(n.li,{children:"\u4E0A\u9762\u4E09\u4E2A\u573A\u666F\u7684\u8DE8\u57DF\u6570\u636E\u4F20\u9012"}),"\n"]}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"postMessage()\u65B9\u6CD5\u5141\u8BB8\u6765\u81EA\u4E0D\u540C\u6E90\u7684\u811A\u672C\u91C7\u7528\u5F02\u6B65\u65B9\u5F0F\u8FDB\u884C\u6709\u9650\u7684\u901A\u4FE1\uFF0C\u53EF\u4EE5\u5B9E\u73B0\u8DE8\u6587\u672C\u6863\u3001\u591A\u7A97\u53E3\u3001\u8DE8\u57DF\u6D88\u606F\u4F20\u9012"}),"\u3002"]}),"\n",(0,l.jsx)(n.h3,{id:"websocket",children:"websocket"}),"\n",(0,l.jsxs)(n.p,{children:["Websocket\u662FHTML5\u7684\u4E00\u4E2A\u6301\u4E45\u5316\u7684\u534F\u8BAE\uFF0C\u5B83\u5B9E\u73B0\u4E86\u6D4F\u89C8\u5668\u4E0E\u670D\u52A1\u5668\u7684\u5168\u53CC\u5DE5\u901A\u4FE1\uFF0C\u540C\u65F6\u4E5F\u662F\u8DE8\u57DF\u7684\u4E00\u79CD\u89E3\u51B3\u65B9\u6848\u3002WebSocket\u548CHTTP\u90FD\u662F\u5E94\u7528\u5C42\u534F\u8BAE\uFF0C\u90FD\u57FA\u4E8E TCP \u534F\u8BAE\u3002\u4F46\u662F ",(0,l.jsx)(n.strong,{children:"WebSocket \u662F\u4E00\u79CD\u53CC\u5411\u901A\u4FE1\u534F\u8BAE\uFF0C\u5728\u5EFA\u7ACB\u8FDE\u63A5\u4E4B\u540E\uFF0CWebSocket \u7684 server \u4E0E client \u90FD\u80FD\u4E3B\u52A8\u5411\u5BF9\u65B9\u53D1\u9001\u6216\u63A5\u6536\u6570\u636E"}),"\u3002\u540C\u65F6\uFF0CWebSocket \u5728\u5EFA\u7ACB\u8FDE\u63A5\u65F6\u9700\u8981\u501F\u52A9 HTTP \u534F\u8BAE\uFF0C\u8FDE\u63A5\u5EFA\u7ACB\u597D\u4E86\u4E4B\u540E client \u4E0E server \u4E4B\u95F4\u7684\u53CC\u5411\u901A\u4FE1\u5C31\u4E0E HTTP \u65E0\u5173\u4E86\u3002"]}),"\n",(0,l.jsx)(n.p,{children:"\u539F\u751F WebSocket API \u4F7F\u7528\u8D77\u6765\u4E0D\u592A\u65B9\u4FBF\uFF0C\u6211\u4EEC\u4F7F\u7528Socket.io\uFF0C\u5B83\u5F88\u597D\u5730\u5C01\u88C5\u4E86webSocket\u63A5\u53E3\uFF0C\u63D0\u4F9B\u4E86\u66F4\u7B80\u5355\u3001\u7075\u6D3B\u7684\u63A5\u53E3\uFF0C\u4E5F\u5BF9\u4E0D\u652F\u6301webSocket\u7684\u6D4F\u89C8\u5668\u63D0\u4F9B\u4E86\u5411\u4E0B\u517C\u5BB9"}),"\n",(0,l.jsx)(n.h3,{id:"node-\u4E2D\u95F4\u4EF6\u4EE3\u7406",children:"Node \u4E2D\u95F4\u4EF6\u4EE3\u7406"}),"\n",(0,l.jsx)(n.p,{children:"Node \u4E2D\u95F4\u4EF6\u4EE3\u7406\uFF0C\u4E24\u6B21\u8DE8\u57DF"}),"\n",(0,l.jsxs)(n.p,{children:["\u5B9E\u73B0\u539F\u7406\uFF1A",(0,l.jsx)(n.strong,{children:"\u540C\u6E90\u7B56\u7565\u662F\u6D4F\u89C8\u5668\u9700\u8981\u9075\u5FAA\u7684\u6807\u51C6\uFF0C\u800C\u5982\u679C\u662F\u670D\u52A1\u5668\u5411\u670D\u52A1\u5668\u8BF7\u6C42\u5C31\u65E0\u9700\u9075\u5FAA\u540C\u6E90\u7B56\u7565"}),"\u3002\u4EE3\u7406\u670D\u52A1\u5668\uFF0C\u9700\u8981\u505A\u4EE5\u4E0B\u51E0\u4E2A\u6B65\u9AA4\uFF1A"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\u63A5\u53D7\u5BA2\u6237\u7AEF\u8BF7\u6C42\u3002"}),"\n",(0,l.jsx)(n.li,{children:"\u5C06\u8BF7\u6C42\u8F6C\u53D1\u7ED9\u670D\u52A1\u5668\u3002"}),"\n",(0,l.jsx)(n.li,{children:"\u62FF\u5230\u670D\u52A1\u5668\u54CD\u5E94 \u6570\u636E\u3002"}),"\n",(0,l.jsx)(n.li,{children:"\u5C06\u54CD\u5E94\u8F6C\u53D1\u7ED9\u5BA2\u6237\u7AEF\u3002"}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"nginx-\u53CD\u5411\u4EE3\u7406",children:"nginx \u53CD\u5411\u4EE3\u7406"}),"\n",(0,l.jsx)(n.p,{children:"\u5B9E\u73B0\u539F\u7406\u7C7B\u4F3C\u4E8ENode\u4E2D\u95F4\u4EF6\u4EE3\u7406\uFF0C\u9700\u8981\u4F60\u642D\u5EFA\u4E00\u4E2A\u4E2D\u8F6C nginx \u670D\u52A1\u5668\uFF0C\u7528\u4E8E\u8F6C\u53D1\u8BF7\u6C42\u3002"}),"\n",(0,l.jsx)(n.p,{children:"\u4F7F\u7528 nginx \u53CD\u5411\u4EE3\u7406\u5B9E\u73B0\u8DE8\u57DF\uFF0C\u662F\u6700\u7B80\u5355\u7684\u8DE8\u57DF\u65B9\u5F0F\u3002\u53EA\u9700\u8981\u4FEE\u6539nginx\u7684\u914D\u7F6E\u5373\u53EF\u89E3\u51B3\u8DE8\u57DF\u95EE\u9898\uFF0C\u652F\u6301\u6240\u6709\u6D4F\u89C8\u5668\uFF0C\u652F\u6301session\uFF0C\u4E0D\u9700\u8981\u4FEE\u6539\u4EFB\u4F55\u4EE3\u7801\uFF0C\u5E76\u4E14\u4E0D\u4F1A\u5F71\u54CD\u670D\u52A1\u5668\u6027\u80FD\u3002"}),"\n",(0,l.jsx)(n.p,{children:"\u5B9E\u73B0\u601D\u8DEF\uFF1A\u901A\u8FC7nginx\u914D\u7F6E\u4E00\u4E2A\u4EE3\u7406\u670D\u52A1\u5668\uFF08\u57DF\u540D\u4E0Edomain1\u76F8\u540C\uFF0C\u7AEF\u53E3\u4E0D\u540C\uFF09\u505A\u8DF3\u677F\u673A\uFF0C\u53CD\u5411\u4EE3\u7406\u8BBF\u95EEdomain2\u63A5\u53E3\uFF0C\u5E76\u4E14\u53EF\u4EE5\u987A\u4FBF\u4FEE\u6539cookie\u4E2Ddomain\u4FE1\u606F\uFF0C\u65B9\u4FBF\u5F53\u524D\u57DFcookie\u5199\u5165\uFF0C\u5B9E\u73B0\u8DE8\u57DF\u767B\u5F55\u3002"}),"\n",(0,l.jsx)(n.h3,{id:"windowname--iframe",children:"window.name + iframe"}),"\n",(0,l.jsx)(n.p,{children:"window.name\u5C5E\u6027\u7684\u72EC\u7279\u4E4B\u5904\uFF1Aname\u503C\u5728\u4E0D\u540C\u7684\u9875\u9762\uFF08\u751A\u81F3\u4E0D\u540C\u57DF\u540D\uFF09\u52A0\u8F7D\u540E\u4F9D\u65E7\u5B58\u5728\uFF0C\u5E76\u4E14\u53EF\u4EE5\u652F\u6301\u975E\u5E38\u957F\u7684 name \u503C\uFF082MB\uFF09\u3002"}),"\n",(0,l.jsx)(n.p,{children:"\u603B\u7ED3\uFF1A\u901A\u8FC7iframe\u7684src\u5C5E\u6027\u7531\u5916\u57DF\u8F6C\u5411\u672C\u5730\u57DF\uFF0C\u8DE8\u57DF\u6570\u636E\u5373\u7531iframe\u7684window.name\u4ECE\u5916\u57DF\u4F20\u9012\u5230\u672C\u5730\u57DF\u3002\u8FD9\u4E2A\u5C31\u5DE7\u5999\u5730\u7ED5\u8FC7\u4E86\u6D4F\u89C8\u5668\u7684\u8DE8\u57DF\u8BBF\u95EE\u9650\u5236\uFF0C\u4F46\u540C\u65F6\u5B83\u53C8\u662F\u5B89\u5168\u64CD\u4F5C\u3002"}),"\n",(0,l.jsx)(n.h3,{id:"locationhash---iframe",children:"location.hash +  iframe"}),"\n",(0,l.jsx)(n.p,{children:"\u5B9E\u73B0\u539F\u7406\uFF1A a.html\u6B32\u4E0Ec.html\u8DE8\u57DF\u76F8\u4E92\u901A\u4FE1\uFF0C\u901A\u8FC7\u4E2D\u95F4\u9875b.html\u6765\u5B9E\u73B0\u3002 \u4E09\u4E2A\u9875\u9762\uFF0C\u4E0D\u540C\u57DF\u4E4B\u95F4\u5229\u7528iframe\u7684location.hash\u4F20\u503C\uFF0C\u76F8\u540C\u57DF\u4E4B\u95F4\u76F4\u63A5js\u8BBF\u95EE\u6765\u901A\u4FE1\u3002"}),"\n",(0,l.jsxs)(n.p,{children:["\u5177\u4F53\u5B9E\u73B0\u6B65\u9AA4\uFF1A\u4E00\u5F00\u59CB a.html \u7ED9 c.html \u4F20\u4E00\u4E2A hash \u503C\uFF0C\u7136\u540E c.html \u6536\u5230 hash \u503C\u540E\uFF0C\u518D\u628A hash \u503C\u4F20\u9012\u7ED9b.html\uFF0C\u6700\u540Eb.html\u5C06\u7ED3\u679C\u653E\u5230 a.html \u7684 hash\u503C\u4E2D\u3002  \u540C\u6837\u7684\uFF0Ca.html\u548Cb.html\u662F\u540C\u57DF\u7684\uFF0C\u90FD\u662F ",(0,l.jsx)(n.code,{children:"http://localhost:3000"}),"\uFF0C\u800Cc.html \u662F ",(0,l.jsx)(n.code,{children:"http://localhost:4000"})]}),"\n",(0,l.jsx)(n.h3,{id:"documentdomain--iframe",children:"document.domain + iframe"}),"\n",(0,l.jsxs)(n.p,{children:["\u8BE5\u65B9\u5F0F",(0,l.jsx)(n.strong,{children:"\u53EA\u80FD\u7528\u4E8E\u4E8C\u7EA7\u57DF\u540D\u76F8\u540C"}),"\u7684\u60C5\u51B5\u4E0B\uFF0C\u6BD4\u5982 ",(0,l.jsx)(n.code,{children:"a.test.com"})," \u548C ",(0,l.jsx)(n.code,{children:"b.test.com"}),"\u3002 \u53EA\u9700\u8981\u7ED9\u9875\u9762\u6DFB\u52A0 document.domain ='test.com' \u8868\u793A\u4E8C\u7EA7\u57DF\u540D\u90FD\u76F8\u540C\u5C31\u53EF\u4EE5\u5B9E\u73B0\u8DE8\u57DF\u3002"]}),"\n",(0,l.jsx)(n.p,{children:"\u5B9E\u73B0\u539F\u7406\uFF1A\u4E24\u4E2A\u9875\u9762\u90FD\u901A\u8FC7 js \u5F3A\u5236\u8BBE\u7F6E document.domain \u4E3A\u57FA\u7840\u4E3B\u57DF\uFF0C\u5C31\u5B9E\u73B0\u4E86\u540C\u57DF\u3002"}),"\n",(0,l.jsx)(n.h2,{id:"\u53C2\u8003\u6587\u7AE0",children:"\u53C2\u8003\u6587\u7AE0"}),"\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"\u540D\u79F0"}),(0,l.jsx)(n.th,{children:"\u94FE\u63A5"})]})}),(0,l.jsx)(n.tbody,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"MDN"}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.a,{href:"https://developer.mozilla.org/zh-CN/docs/Glossary/CORS",children:"https://developer.mozilla.org/zh-CN/docs/Glossary/CORS"})})]})})]})]})}function a(e={}){let{wrapper:n}={...(0,r.a)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(h,{...e})}):h(e)}},3663:function(e,n,i){i.d(n,{Z:function(){return d},a:function(){return c}});var s=i(5271);let l={},r=s.createContext(l);function c(e){let n=s.useContext(r);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:c(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);