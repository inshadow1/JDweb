"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([["5504"],{3882:function(e,n,t){t.r(n),t.d(n,{default:()=>h,frontMatter:()=>c,metadata:()=>a,assets:()=>l,toc:()=>d,contentTitle:()=>i});var a=JSON.parse('{"id":"JavaScript & TypeScript/3.4-canvas","title":"3.4-canvas","description":"Create by fall on 10 Jun 2022","source":"@site/my-docs/JavaScript & TypeScript/3.4-canvas.md","sourceDirName":"JavaScript & TypeScript","slug":"/JavaScript & TypeScript/3.4-canvas","permalink":"/docs/JavaScript & TypeScript/3.4-canvas","draft":false,"unlisted":false,"editUrl":"https://github.com/my-docs/JavaScript & TypeScript/3.4-canvas.md","tags":[],"version":"current","sidebarPosition":54,"frontMatter":{"sidebar_position":54},"sidebar":"tutorialSidebar","previous":{"title":"3.3-WebComponent","permalink":"/docs/JavaScript & TypeScript/3.3-WebComponent"},"next":{"title":"3.5-\u6D4F\u89C8\u5668\u5BF9\u8C61","permalink":"/docs/JavaScript & TypeScript/3.5-\u6D4F\u89C8\u5668\u5BF9\u8C61"}}'),s=t("2676"),r=t("3663");let c={sidebar_position:54},i=void 0,l={},d=[{value:"canvas",id:"canvas",level:2},{value:"canvas \u5BF9\u8C61",id:"canvas-\u5BF9\u8C61",level:3},{value:"drawImage",id:"drawimage",level:3},{value:"toDataURL",id:"todataurl",level:3},{value:"toBlob",id:"toblob",level:3},{value:"WebGL",id:"webgl",level:2},{value:"\u53C2\u8003\u6587\u7AE0",id:"\u53C2\u8003\u6587\u7AE0",level:2}];function o(e){let n={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,r.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsxs)(n.p,{children:["Create by ",(0,s.jsx)(n.strong,{children:"fall"})," on 10 Jun 2022\r\nRecently revised in 06 Apr 2023"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"canvas",children:"canvas"}),"\n",(0,s.jsxs)(n.p,{children:["Canvas \u7684\u9ED8\u8BA4\u5927\u5C0F\u4E3A ",(0,s.jsx)(n.code,{children:"300px * 150px"}),"\uFF08\u5BBD * \u9AD8\uFF09"]}),"\n",(0,s.jsx)(n.p,{children:"\u5982\u4F55\u83B7\u53D6 DOM"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:'// \u786E\u4FDD DOM \u4E2D\u5B58\u5728\u5982\u4E0B\u7684\u6807\u7B7E\r\n// <canvas id="canvas" width="600" height="600"></canvas>\r\nconst canvas = document.getElementById(\'canvas\')\r\nconst stx = canvas.getContext(\'2d\') // \u83B7\u53D6 2d \u5BF9\u8C61\n'})}),"\n",(0,s.jsx)(n.p,{children:"\u5982\u4F55\u7ED8\u5236\u77E9\u5F62"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"ctx.fillStyle = 'green'; // \u586B\u5145\u989C\u8272\r\nctx.strokeRect(x,y) // \u7ED8\u5236\u8FB9\u6846\uFF0C\u56DB\u4E2A\u53C2\u6570\u5206\u522B\u8868\u793A\u586B\u5145\u7684\u8D77\u59CB\u70B9 x y\uFF0C\u4EE5\u53CA\u5BBD\u5EA6\uFF0C\u9AD8\u5EA6\r\nctx.fillRect(10, 10, 150, 100); // \u586B\u5145\u77E9\u5F62\uFF0C\u56DB\u4E2A\u53C2\u6570\u5206\u522B\u8868\u793A\u586B\u5145\u7684\u8D77\u59CB\u70B9 x y\uFF0C\u4EE5\u53CA\u5BBD\u5EA6\uFF0C\u9AD8\u5EA6\n"})}),"\n",(0,s.jsx)(n.p,{children:"\u753B\u4E00\u4E2A\u5706\u5F62"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"ctx.translate(300, 300) // \u539F\u70B9\u504F\u79FB\u65B9\u5411 x \u8F74 300\uFF0Cy \u8F74 300\r\nctx.beginPath() // \u5F00\u542F\u8DEF\u5F84\r\nctx.arc(0, 0, 100, 0, 2 * Math.PI) // \u8D77\u59CB\u70B9 x,y \u534A\u5F84\r\nctx.closePath() // \u5173\u95ED\u8DEF\u5F84\r\nctx.strokeStyle = 'red' // \u66F4\u6539\u989C\u8272\u4E3A\u7EA2\u8272\r\nctx.stroke() // \u753B\uFF1A stroke \u610F\u601D\u4E3A\u8F7B\u5212\n"})}),"\n",(0,s.jsx)(n.h3,{id:"canvas-\u5BF9\u8C61",children:"canvas \u5BF9\u8C61"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"ctx.beginPath() // \u65B0\u5EFA\u4E00\u6761\u8DEF\u5F84\u751F\u6210\u4E4B\u540E\uFF0C\u7ED8\u5236\u547D\u4EE4\u88AB\u6307\u5230\u8DEF\u5F84\u4E0A\u751F\u6210\u7684\u5185\u5BB9\r\nctx.closePath() // \u95ED\u5408\u8DEF\u5F84\r\nctx.stroke() // \u901A\u8FC7\u7EBF\u6761\u8FDB\u884C\u7ED8\u5236\r\nctx.fill()  // \u901A\u8FC7\u586B\u5145\u8FDB\u884C\u7ED8\u5236\n"})}),"\n",(0,s.jsx)(n.p,{children:"\u4FDD\u5B58\u548C\u63D0\u53D6"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"// \u4FDD\u5B58\u548C\u63D0\u53D6\u72B6\u6001\uFF0C\u662F\u4E00\u4E2A\u6808\uFF0C\u4E5F\u5C31\u662F\u8BF4\uFF0C\u53EA\u80FD\u63D0\u53D6\u6808\u4E2D\u6700\u8FD1\u7684\u4E00\u6B21\u4FDD\u5B58\r\n// \u4FDD\u5B58\u5F53\u524D\u72B6\u6001\r\nctx.save()\r\n// \u63D0\u53D6\u5F53\u524D\u72B6\u6001\r\nctx.restore()\n"})}),"\n",(0,s.jsx)(n.h3,{id:"drawimage",children:"drawImage"}),"\n",(0,s.jsx)(n.p,{children:"\u5411 canvas \u5185\u753B\u5165 image \u56FE\u7247\uFF0C\u53EF\u9009\u53C2\u6570\u7C7B\u578B"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"// dx, dy \u8868\u793A\u63D2\u5165\u540E\u5728\u753B\u5E03\u4E2D\u7684\u4F4D\u7F6E\r\ndrawImage(image, dx, dy)\r\n// dWidth, dHeight \u8868\u793A\u63D2\u5165\u540E\u5728\u753B\u5E03\u4E2D\u7684\u4F4D\u7F6E\r\ndrawImage(image, dx, dy, dWidth, dHeight)\r\n// sx, sy \u7B49\u8868\u793A\u622A\u53D6\u56FE\u7247\u6E90\u6587\u4EF6\u7684\u5750\u6807\uFF0CsWidth, sHeight \u8868\u793A\u622A\u53D6\u5BBD\u9AD8\uFF0Cdx, dy, dWidth, dHeight \u8868\u793A\u63D2\u5165\u540E\u7684\u4F4D\u7F6E\u548C\u5BBD\u9AD8\r\ndrawImage(image, sx, sy, sWidth, sHeight, dx, dy, dWidth, dHeight)\n"})}),"\n",(0,s.jsx)(n.h3,{id:"todataurl",children:"toDataURL"}),"\n",(0,s.jsx)(n.p,{children:"\u5C06 canvas \u4F5C\u4E3A DataURL \u8FDB\u884C\u8F93\u51FA"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"const canvas = document.getElementById('canvas')\r\nconst stx = canvas.getContext('2d') // \u83B7\u53D6 2d \u5BF9\u8C61\r\nstx.drawImage() // \u5C06 image \u5728\u753B\u5E03\u4E0A\u753B\u51FA\u6765\r\nconst mimeType = 'image/png'\r\nconst quality = 0.4\r\n// \u5C06\u753B\u5E03\u4E0A\u7684\u5185\u5BB9\u8F6C\u6362\u4E3A DataURL\r\nstx.toDataURL(mimeType, quality)\r\n// mimeType\uFF1Aimage/png\uFF0Cimage/jpeg\uFF0Cimage/webp\r\n// quality\uFF1A0-1\uFF0C\u9ED8\u8BA4\u538B\u7F29\u8D28\u91CF\u4E3A 0.92\n"})}),"\n",(0,s.jsx)(n.p,{children:"\u5B9E\u73B0\u5C06\u56FE\u7247\u8FDB\u884C\u538B\u7F29\uFF0C"}),"\n",(0,s.jsx)(n.h3,{id:"toblob",children:"toBlob"}),"\n",(0,s.jsx)(n.p,{children:"\u5C06 canvas \u4F5C\u4E3A Blob \u8FDB\u884C\u8F93\u51FA\uFF0C\u8BE5\u65B9\u6CD5\u662F\u5F02\u6B65\u7684"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:'const callback =(blob)=>{\r\n  console.log(blob) // \u5982\u679C\u672A\u521B\u5EFA\u6210\u529F\uFF0C\u4E3A null\r\n} \r\n// mimeType \u548C quality \u548C toDataURL \u7C7B\u4F3C\r\nconst mimeType = "image/jpeg"\r\nconst quality = 0.3\r\nstx.toBlob(callback,mimeType, quality)\n'})}),"\n",(0,s.jsx)(n.h2,{id:"webgl",children:"WebGL"}),"\n",(0,s.jsx)(n.p,{children:"Web Graphics Library\uFF08\u662F\u4E00\u79CD 3D \u7ED8\u56FE\u6807\u51C6\uFF09"}),"\n",(0,s.jsx)(n.h2,{id:"\u53C2\u8003\u6587\u7AE0",children:"\u53C2\u8003\u6587\u7AE0"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"\u4F5C\u8005"}),(0,s.jsx)(n.th,{children:"\u94FE\u63A5"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"MDN\u5B98\u65B9\u6587\u6863"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.a,{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/Canvas_API",children:"https://developer.mozilla.org/zh-CN/docs/Web/API/Canvas_API"})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Sunshine_Lin"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.a,{href:"https://juejin.cn/post/6986785259966857247",children:"https://juejin.cn/post/6986785259966857247"})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"\u5218\u4F1FC"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.a,{href:"https://juejin.cn/post/6844903495703904263",children:"\u524D\u7AEF\u56FE\u7247\u538B\u7F29\u4E0A\u4F20\uFF08\u538B\u7F29\u7BC7\uFF09\uFF1A\u53EF\u80FD\u662F\u6700\u9002\u5408\u5C0F\u767D\u7684\u524D\u7AEF\u56FE\u7247\u538B\u7F29\u6587\u7AE0\u4E86\uFF01"})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{}),(0,s.jsx)(n.td,{})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{}),(0,s.jsx)(n.td,{})]})]})]})]})}function h(e={}){let{wrapper:n}={...(0,r.a)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(o,{...e})}):o(e)}},3663:function(e,n,t){t.d(n,{Z:function(){return i},a:function(){return c}});var a=t(5271);let s={},r=a.createContext(s);function c(e){let n=a.useContext(r);return a.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:c(e.components),a.createElement(r.Provider,{value:n},e.children)}}}]);