"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([["5502"],{1838:function(n,e,r){r.r(e),r.d(e,{default:()=>d,frontMatter:()=>c,metadata:()=>s,assets:()=>p,toc:()=>i,contentTitle:()=>l});var s=JSON.parse('{"id":"React/class \u7EC4\u4EF6/4-\u9AD8\u9636\u7EC4\u4EF6","title":"4-\u9AD8\u9636\u7EC4\u4EF6","description":"Create by fall on 2021-12-19","source":"@site/my-docs/React/class \u7EC4\u4EF6/4-\u9AD8\u9636\u7EC4\u4EF6.md","sourceDirName":"React/class \u7EC4\u4EF6","slug":"/React/class \u7EC4\u4EF6/4-\u9AD8\u9636\u7EC4\u4EF6","permalink":"/docs/React/class \u7EC4\u4EF6/4-\u9AD8\u9636\u7EC4\u4EF6","draft":false,"unlisted":false,"editUrl":"https://github.com/my-docs/React/class \u7EC4\u4EF6/4-\u9AD8\u9636\u7EC4\u4EF6.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"3-\u751F\u547D\u5468\u671F","permalink":"/docs/React/class \u7EC4\u4EF6/3-\u751F\u547D\u5468\u671F"},"next":{"title":"5-\u8DEF\u7531\u7684\u4F7F\u7528","permalink":"/docs/React/class \u7EC4\u4EF6/5-\u8DEF\u7531\u7684\u4F7F\u7528"}}'),o=r("2676"),t=r("3663");let c={},l=void 0,p={},i=[{value:"\u9AD8\u9636\u7EC4\u4EF6",id:"\u9AD8\u9636\u7EC4\u4EF6",level:2},{value:"\u7279\u6027",id:"\u7279\u6027",level:3}];function a(n){let e={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.a)(),...n.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(e.blockquote,{children:["\n",(0,o.jsxs)(e.p,{children:["Create by ",(0,o.jsx)(e.strong,{children:"fall"})," on 2021-12-19\r\nRecently revised in 2021-12-26"]}),"\n"]}),"\n",(0,o.jsx)(e.h2,{id:"\u9AD8\u9636\u7EC4\u4EF6",children:"\u9AD8\u9636\u7EC4\u4EF6"}),"\n",(0,o.jsx)(e.p,{children:"\uFF08HOC\uFF09"}),"\n",(0,o.jsx)(e.p,{children:(0,o.jsx)(e.a,{href:"https://react.docschina.org/blog/2016/07/13/mixins-considered-harmful.html",children:"\u6211\u4EEC\u4E3A\u4EC0\u4E48\u8981\u629B\u5F03 mixins \u4EE5\u53CA\u5982\u4F55\u8F6C\u6362\u73B0\u6709\u7EC4\u4EF6"})}),"\n",(0,o.jsxs)(e.blockquote,{children:["\n",(0,o.jsx)(e.p,{children:"\u6211\u89C9\u5F97\u629B\u5F03\u7684\u4E3B\u8981\u539F\u56E0\u662F\uFF0C\u591A\u4E2A\u7EC4\u4EF6\u516C\u7528\u7684\u662F\u4E00\u5957\uFF0C\u5BF9\u8C61\u7684\u5C5E\u6027\uFF0C\u8FD9\u4E2A\u53EF\u4EE5\u6539\u53D8\uFF0C\u90A3\u4E2A\u7EC4\u4EF6\u4E5F\u53EF\u4EE5\u6539\u53D8\uFF0C\u6362\u6210\u73B0\u5728\u9AD8\u9636\u51FD\u6570\u540E\uFF0C\u63D0\u4F9B\u7684\u662F\u4E00\u5957\u6A21\u677F"}),"\n"]}),"\n",(0,o.jsx)(e.p,{children:"\u8DDF\u9AD8\u9636\u51FD\u6570\u5DEE\u4E0D\u591A\uFF0C\u53C2\u6570\u4E3A\u4E00\u4E2A\u7EC4\u4EF6\uFF0C\u8FD4\u56DE\u503C\u4E3A\u65B0\u7EC4\u4EF6\u7684\u51FD\u6570"}),"\n",(0,o.jsx)(e.p,{children:"\u9AD8\u9636\u7EC4\u4EF6\u7684\u610F\u4E49\u5C31\u662F\u8BA9\u4E00\u4E2A\u591A\u6B21\u51FA\u73B0\u7684\u903B\u8F91\uFF0C\u5728\u591A\u4E2A\u7EC4\u4EF6\u4E4B\u4E2D\u8FDB\u884C\u5171\u4EAB"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-js",children:"function logPorps(WrappedComponent){\r\n  class LogProps extends React.Component{\r\n    componentDidUpdate(prevProps){\r\n      console.log('old props:');\r\n      console.log('new props:');\r\n    }\r\n    render(){\r\n      return(<WrappedComponent {...this.props}></WrappedComponent>)\r\n    }\r\n  }\r\n  return LogProps\r\n}\n"})}),"\n",(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.strong,{children:"TENET"}),"\uFF1A\u4E0D\u8981\u4FEE\u6539\u7EC4\u4EF6\uFF0C\u8BB0\u4F4F\uFF0C\u6240\u4EA7\u751F\u7684\u4EE3\u7801\u662F\u6CA1\u6709\u4EFB\u4F55\u526F\u4F5C\u7528\u7684\u7EAF\u51FD\u6570"]}),"\n",(0,o.jsx)(e.p,{children:(0,o.jsx)(e.strong,{children:"\u9519\u8BEF\u7684\u4E66\u5199\u65B9\u5F0F"})}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-jsx",children:"// \u9664\u975E\u4F60\u77E5\u9053\u8FD9\u4E2A\u7EC4\u5EFA\u7684 HOC \u662F\u5982\u4F55\u8FD0\u4F5C\u7684\uFF0C\u5E76\u4E14\u80FD\u907F\u514D\u548C\u5176\u4ED6\u7684 HOC \u53D1\u751F\u51B2\u7A81\uFF0C\u4F46\u4E5F\u4F1A\u56E0\u4E3A\u8FD9\u79CD\u4E66\u5199\u65B9\u5F0F\u5927\u5927\u964D\u4F4E\u53EF\u7EF4\u62A4\u6027\r\nfunction logProps(InputComponent) {\r\n  InputComponent.prototype.componentDidUpdate = function(prevProps) {\r\n    console.log('Current props: ', this.props);\r\n    console.log('Previous props: ', prevProps);\r\n  };\r\n  // \u8FD4\u56DE\u539F\u59CB\u7684 input \u7EC4\u4EF6\uFF0C\u6697\u793A\u5B83\u5DF2\u7ECF\u88AB\u4FEE\u6539\u3002\r\n  return InputComponent;\r\n}\r\n// \u6BCF\u6B21\u8C03\u7528 logProps \u65F6\uFF0C\u589E\u5F3A\u7EC4\u4EF6\u90FD\u4F1A\u6709 log \u8F93\u51FA\u3002\r\nconst EnhancedComponent = logProps(InputComponent);\n"})}),"\n",(0,o.jsx)(e.p,{children:(0,o.jsx)(e.strong,{children:"\u6B63\u786E\u7684\u4E66\u5199\u65B9\u5F0F"})}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-jsx",children:"function logProps(WrappedComponent){\r\n  return class extends React.Component{\r\n    componentDidUpdate(prevProps){\r\n      console.log('Current props',this.props)\r\n    }\r\n  }\r\n  render(){\r\n    return <WrappedComponent {...this.props} />\r\n  }\r\n}\n"})}),"\n",(0,o.jsx)(e.h3,{id:"\u7279\u6027",children:"\u7279\u6027"}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsx)(e.li,{children:"\u5C06\u4E0D\u76F8\u5173\u7684 props \u4F20\u9012\u7ED9\u88AB\u5305\u88F9\u7684\u7EC4\u4EF6"}),"\n"]}),"\n",(0,o.jsx)(e.p,{children:"(\u5411\u7EC4\u4EF6\u6DFB\u52A0\u7279\u6027\uFF0C\u81EA\u8EAB\u4E0D\u5E94\u8BE5\u5927\u5E45\u6539\u53D8)"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-jsx",children:"render(){\r\n  c\r\n}\n"})}),"\n",(0,o.jsx)(e.p,{children:"\u4E0D\u8981\u5728 render \u65B9\u6CD5\u4E2D\u4F7F\u7528 HOC"}),"\n",(0,o.jsx)(e.p,{children:"\u52A1\u5FC5\u590D\u5236\u9759\u6001\u65B9\u6CD5"}),"\n",(0,o.jsx)(e.p,{children:"Refs \u4E0D\u4F1A\u88AB\u4F20\u9012"})]})}function d(n={}){let{wrapper:e}={...(0,t.a)(),...n.components};return e?(0,o.jsx)(e,{...n,children:(0,o.jsx)(a,{...n})}):a(n)}},3663:function(n,e,r){r.d(e,{Z:function(){return l},a:function(){return c}});var s=r(5271);let o={},t=s.createContext(o);function c(n){let e=s.useContext(t);return s.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function l(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(o):n.components||o:c(n.components),s.createElement(t.Provider,{value:e},n.children)}}}]);