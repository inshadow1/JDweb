"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([["9445"],{7255:function(e,n,s){s.r(n),s.d(n,{default:()=>a,frontMatter:()=>c,metadata:()=>r,assets:()=>l,toc:()=>p,contentTitle:()=>o});var r=JSON.parse('{"id":"npm \u5305/postcss","title":"postcss","description":"Create by fall on 14 Dec 2021","source":"@site/my-docs/npm \u5305/postcss.md","sourceDirName":"npm \u5305","slug":"/npm \u5305/postcss","permalink":"/docs/npm \u5305/postcss","draft":false,"unlisted":false,"editUrl":"https://github.com/my-docs/npm \u5305/postcss.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"portfinder","permalink":"/docs/npm \u5305/portfinder"},"next":{"title":"prettier","permalink":"/docs/npm \u5305/prettier"}}'),t=s("5893"),i=s("65");let c={},o=void 0,l={},p=[{value:"PostCSS",id:"postcss",level:2},{value:"\u63D2\u4EF6",id:"\u63D2\u4EF6",level:2},{value:"postcss-sprites",id:"postcss-sprites",level:3},{value:"postcss-cssnext",id:"postcss-cssnext",level:3},{value:"autoprefixer",id:"autoprefixer",level:3},{value:"stylelint",id:"stylelint",level:3},{value:"Animate.css",id:"animatecss",level:3},{value:"cssnano",id:"cssnano",level:3},{value:"postcss-pxtorem",id:"postcss-pxtorem",level:3},{value:"postcss-px-to-viewport",id:"postcss-px-to-viewport",level:3},{value:"postcss-px-to-viewport-8-plugin",id:"postcss-px-to-viewport-8-plugin",level:3}];function d(e){let n={blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",p:"p",pre:"pre",strong:"strong",...(0,i.a)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsxs)(n.p,{children:["Create by ",(0,t.jsx)(n.strong,{children:"fall"})," on 14 Dec 2021\r\nRecently revised in 04 Apr 2023"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"postcss",children:"PostCSS"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.code,{children:"npm install postcss-cli -g"})}),"\n",(0,t.jsx)(n.p,{children:"PostCSS \u662F\u4E00\u4E2A\u8FD0\u884C\u73AF\u5883\uFF0C\u7528\u4E8E\u4F7F\u7528 JavaScript \u6539\u53D8 CSS \u7684\u73AF\u5883"}),"\n",(0,t.jsx)(n.p,{children:"\u5B98\u65B9\u89E3\u91CA\uFF1AA tool for transforming CSS with JavaScript"}),"\n",(0,t.jsx)(n.h2,{id:"\u63D2\u4EF6",children:"\u63D2\u4EF6"}),"\n",(0,t.jsx)(n.h3,{id:"postcss-sprites",children:"postcss-sprites"}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.code,{children:"cnpm i postcss-sprites"})}),"\n",(0,t.jsx)(n.p,{children:"\u5C06\u591A\u5F20\u56FE\u7247\u81EA\u52A8\u5408\u6210\u4E3A\u4E00\u5F20\u56FE\u7247\uFF08\u96EA\u78A7\u56FE|sprites\uFF09"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"const sprites = require('postcss-sprites');\r\nmodule.exports = {\r\n	plugins :[\r\n		cssnext,\r\n		stylelint({\r\n            \"rules\" : {\r\n            \"color-no-invalid-hex\" true;\r\n            }\r\n		}),\r\n		sprites({\r\n		spritePath : './dist'\r\n		})\r\n	]\r\n}\n"})}),"\n",(0,t.jsx)(n.h3,{id:"postcss-cssnext",children:"postcss-cssnext"}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.code,{children:"cnpm i postcss-cssnext"})}),"\n",(0,t.jsx)(n.p,{children:"\u5BF9css\u8FDB\u884C\u964D\u7EA7\uFF0C\u652F\u6301\u66F4\u65E9\u7684\u6D4F\u89C8\u5668\u7248\u672C"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"const cssnext = require('postcss-cssnext');\r\nmodule.exports = {\r\n	plugins :[\r\n		cssnext\r\n	]\r\n}\n"})}),"\n",(0,t.jsx)(n.p,{children:"postcss-import"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.code,{children:"cnpm i postcss-import"})}),"\n",(0,t.jsx)(n.p,{children:"\u5BF9\u4E8E\u591A\u4E2Acss\u6587\u4EF6\u8FDB\u884C\u5408\u5E76"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"const postcss = require('postcss-import');\r\nmodule.exports = {\r\n	plugins :[\r\n		postcss\r\n	]\r\n}\n"})}),"\n",(0,t.jsx)(n.h3,{id:"autoprefixer",children:"autoprefixer"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.code,{children:"npm i autoprefixer"})}),"\n",(0,t.jsx)(n.p,{children:"\u81EA\u52A8\u6DFB\u52A0\u6D4F\u89C8\u5668\u524D\u7F00\uFF0C\u8FDB\u884C\u6D4F\u89C8\u5668\u517C\u5BB9"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"// \u914D\u7F6E\u6587\u4EF6\u4E2D\u5F15\u5165\r\nconst autoprefixer = require('autoprefixer');\r\nmodule.exports = {\r\n	plugins :[\r\n		autoprefixer({\r\n			browsers : ['> 0%']// \u5BF9\u6240\u6709\u6D4F\u89C8\u5668\u517C\u5BB9\r\n		})\r\n	]\r\n}\n"})}),"\n",(0,t.jsx)(n.h3,{id:"stylelint",children:"stylelint"}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsxs)(n.p,{children:["\u547D\u4EE4\u884C\u5B89\u88C5",(0,t.jsx)(n.code,{children:"cnpm i stylelint"})]}),"\n",(0,t.jsx)(n.p,{children:"\u8FDB\u884C CSS \u5185\u5BB9\u8FDB\u884C\u7EA0\u9519"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:'const cssnext = require(\'postcss-cssnext\');\r\nmodule.exports = {\r\n  plugins :[\r\n    cssnext,\r\n    stylelint({\r\n      "rules" : {\r\n        "color-no-invalid-hex" true;\r\n      }\r\n    })\r\n  ]\r\n}\n'})}),"\n",(0,t.jsx)(n.h3,{id:"animatecss",children:"Animate.css"}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.code,{children:"npm install animate.css --save"})}),"\n",(0,t.jsx)(n.p,{children:"animate.css \u662F\u4E00\u4E9BCSS\u52A8\u753B\u7684\u96C6\u6210"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"cssnano",children:"cssnano"}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.code,{children:"cnpm i cssnano"})}),"\n",(0,t.jsx)(n.p,{children:"\u5BF9\u4E8Ecss\u8FDB\u884C\u538B\u7F29"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"const postcss = require('postcss-import');\r\nmodule.exports = {\r\n	plugins :[\r\n		cssnano\r\n	]\r\n}\n"})}),"\n",(0,t.jsx)(n.h3,{id:"postcss-pxtorem",children:"postcss-pxtorem"}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"\u6CE8\u610F\uFF1A\u4E0D\u662F postcss-px2rem\uFF01"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"npm install postcss-pxtorem --save\n"})}),"\n",(0,t.jsxs)(n.p,{children:["vue \u9879\u76EE\u4E2D\uFF0C\u901A\u8FC7 ",(0,t.jsx)(n.code,{children:"vue.config.js"})," \u4E2D\u6DFB\u52A0\u4EE5\u4E0B\u5185\u5BB9\uFF0C\u5BF9\u8BE5\u63D2\u4EF6\u8FDB\u884C\u914D\u7F6E"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"const postToRem = require('postcss-pxtorem')({ // \u628Apx\u5355\u4F4D\u6362\u7B97\u6210rem\u5355\u4F4D\r\n  rootValue: 16, // \u521D\u59CB\u6839\u5143\u7D20\u5927\u5C0F\uFF08\u6362\u7B97\u57FA\u6570\uFF09 \r\n  unitPrecision: 3, //\u5141\u8BB8 REM \u5355\u4F4D\u589E\u957F\u5230\u7684\u5341\u8FDB\u5236\u6570\u5B57\uFF0C\u5C0F\u6570\u70B9\u540E\u4FDD\u7559\u7684\u4F4D\u6570\u3002\r\n  propList: ['*'], // \u9700\u8981\u4ECE px \u8F6C\u5316\u4E3A rem \u7684\u5C5E\u6027\uFF0C\u5982\uFF1Aheight,font-size \u4E4B\u7C7B\uFF0C\u6216\u8005\u901A\u914D\u7B26 *\r\n  exclude: /(node_module)/,\r\n  selectorBlackList: ['.van'],// \u9009\u62E9\u5668\u767D\u540D\u5355\r\n  mediaQuery: false,  // \u662F\u5426\u5141\u8BB8\u5728 f12 \u67E5\u8BE2\u4E2D\u8F6C\u6362px\uFF0C\u9ED8\u8BA4\u4E3Afalse\u3002\r\n  minPixelValue: 1 //\u8BBE\u7F6E\u8981\u66FF\u6362\u7684\u6700\u5C0F\u50CF\u7D20\u503C\r\n})\r\nmodule.exports={\r\n  css: {\r\n    loaderOptions: {\r\n      postcss: {\r\n        plugins: [postToRem]\r\n      }\r\n    }\r\n  }\r\n}\n"})}),"\n",(0,t.jsx)(n.p,{children:"\u5168\u5C40\u76D1\u542C"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"// \u57FA\u51C6\u5927\u5C0F\r\nconst baseSize = 16\r\n// \u8BBE\u7F6E rem \u51FD\u6570\r\nfunction setRem () {\r\n  // \u5F53\u524D\u9875\u9762\u5BBD\u5EA6\u76F8\u5BF9\u4E8E 1920 \u5BBD\u7684\u7F29\u653E\u6BD4\u4F8B\uFF0C\u53EF\u6839\u636E\u81EA\u5DF1\u9700\u8981\u4FEE\u6539\u3002\r\n  const scale = document.documentElement.clientWidth / 1920\r\n  // \u8BBE\u7F6E\u9875\u9762\u6839\u8282\u70B9\u5B57\u4F53\u5927\u5C0F, \u5B57\u4F53\u5927\u5C0F\u6700\u5C0F\u4E3A12\r\n  let fontSize = (baseSize * Math.min(scale, 2))>12 ? (baseSize * Math.min(scale, 2)): 12\r\n  document.documentElement.style.fontSize = fontSize + 'px'\r\n}\r\n// \u521D\u59CB\u5316\r\nsetRem()\r\n//\u6539\u53D8\u7A97\u53E3\u5927\u5C0F\u65F6\u91CD\u65B0\u8BBE\u7F6E rem,\u8FD9\u91CC\u6700\u597D\u52A0\u4E0A\u8282\u6D41\r\nwindow.onresize = function () {\r\n  setRem()\r\n}\n"})}),"\n",(0,t.jsx)(n.h3,{id:"postcss-px-to-viewport",children:"postcss-px-to-viewport"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:"// \u9ED8\u8BA4\u914D\u7F6E\r\n {\r\n  unitToConvert: 'px',\r\n  viewportWidth: 320,\r\n  unitPrecision: 5,\r\n  propList: ['*'],\r\n  viewportUnit: 'vw',\r\n  fontViewportUnit: 'vw',\r\n  selectorBlackList: [],\r\n  minPixelValue: 1,\r\n  mediaQuery: false,\r\n  replace: true,\r\n  exclude: undefined,\r\n  include: undefined,\r\n  landscape: false,\r\n  landscapeUnit: 'vw',\r\n  landscapeWidth: 568\r\n}\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.code,{children:"vue.config.js"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:'const pxtoViewport =require("postcss-px-to-viewport")({\r\n  unitToConvert: "px", // \u9700\u8981\u8F6C\u6362\u7684\u5355\u4F4D\uFF0C\u9ED8\u8BA4\u4E3A"px"\r\n  viewportWidth: 1920, // \u89C6\u7A97\u7684\u5BBD\u5EA6\uFF0C\u5BF9\u5E94pc\u8BBE\u8BA1\u7A3F\u7684\u5BBD\u5EA6\uFF0C\u4E00\u822C\u662F1920\r\n  // viewportHeight: 1080,// \u89C6\u7A97\u7684\u9AD8\u5EA6\uFF0C\u5BF9\u5E94\u7684\u662F\u6211\u4EEC\u8BBE\u8BA1\u7A3F\u7684\u9AD8\u5EA6\r\n  unitPrecision: 3, // \u5355\u4F4D\u8F6C\u6362\u540E\u4FDD\u7559\u7684\u7CBE\u5EA6\r\n  propList: [\r\n    // \u80FD\u8F6C\u5316\u4E3Avw\u7684\u5C5E\u6027\u5217\u8868\r\n    "*",\r\n  ],\r\n  viewportUnit: "vw", // \u5E0C\u671B\u4F7F\u7528\u7684\u89C6\u53E3\u5355\u4F4D\r\n  fontViewportUnit: "vw", // \u5B57\u4F53\u4F7F\u7528\u7684\u89C6\u53E3\u5355\u4F4D\r\n  selectorBlackList: [], // \u9700\u8981\u5FFD\u7565\u7684CSS\u9009\u62E9\u5668\uFF0C\u4E0D\u4F1A\u8F6C\u4E3A\u89C6\u53E3\u5355\u4F4D\uFF0C\u4F7F\u7528\u539F\u6709\u7684px\u7B49\u5355\u4F4D\u3002cretae\r\n  minPixelValue: 1, // \u8BBE\u7F6E\u6700\u5C0F\u7684\u8F6C\u6362\u6570\u503C\uFF0C\u5982\u679C\u4E3A1\u7684\u8BDD\uFF0C\u53EA\u6709\u5927\u4E8E1\u7684\u503C\u4F1A\u88AB\u8F6C\u6362\r\n  mediaQuery: false, // \u5A92\u4F53\u67E5\u8BE2\u91CC\u7684\u5355\u4F4D\u662F\u5426\u9700\u8981\u8F6C\u6362\u5355\u4F4D\r\n  replace: true, // \u662F\u5426\u76F4\u63A5\u66F4\u6362\u5C5E\u6027\u503C\uFF0C\u800C\u4E0D\u6DFB\u52A0\u5907\u7528\u5C5E\u6027\r\n  exclude: /(\\/|\\\\)(node_modules)(\\/|\\\\)/, // \u5FFD\u7565\u67D0\u4E9B\u6587\u4EF6\u5939\u4E0B\u7684\u6587\u4EF6\u6216\u7279\u5B9A\u6587\u4EF6\uFF0C\u4F8B\u5982 \'node_modules\' \u4E0B\u7684\u6587\u4EF6\r\n})\r\nmodule.exports = {\r\n  //\u52A8\u6001\u8BBE\u7F6E extract \u7684\u503C\u3002\u5F00\u53D1\u73AF\u5883\u8BBE\u4E3A false\uFF0C\u751F\u4EA7\u73AF\u5883\u8BBE\u4E3A true\uFF0C\u4EE5\u4FBF\u6253\u5305\u51FA\u5355\u72EC\u7684 css \u6587\u4EF6\u3002\r\n  extract: IS_PROD,\r\n  sourceMap: false,\r\n  css: {\r\n    loaderOptions: {\r\n      postcss: {\r\n        plugins: [pxtoViewport],\r\n      },\r\n    },\r\n  },\r\n};\n'})}),"\n",(0,t.jsx)(n.h3,{id:"postcss-px-to-viewport-8-plugin",children:"postcss-px-to-viewport-8-plugin"}),"\n",(0,t.jsx)(n.p,{children:"\u5C06px\u8F6C\u6362\u4E3A viewport"})]})}function a(e={}){let{wrapper:n}={...(0,i.a)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},65:function(e,n,s){s.d(n,{Z:function(){return o},a:function(){return c}});var r=s(7294);let t={},i=r.createContext(t);function c(e){let n=r.useContext(i);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:c(e.components),r.createElement(i.Provider,{value:n},e.children)}}}]);