"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([["2510"],{441:function(e,n,s){s.r(n),s.d(n,{default:()=>a,frontMatter:()=>l,metadata:()=>t,assets:()=>c,toc:()=>h,contentTitle:()=>d});var t=JSON.parse('{"id":"npm \u5305/husky","title":"husky","description":"Create by fall on 2022-04-05","source":"@site/my-docs/npm \u5305/husky.md","sourceDirName":"npm \u5305","slug":"/npm \u5305/husky","permalink":"/docs/npm \u5305/husky","draft":false,"unlisted":false,"editUrl":"https://github.com/my-docs/npm \u5305/husky.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"highlightjs","permalink":"/docs/npm \u5305/highlightjs"},"next":{"title":"immer","permalink":"/docs/npm \u5305/immer"}}'),r=s("2676"),i=s("3663");let l={},d=void 0,c={},h=[{value:"husky",id:"husky",level:2},{value:"pre-commit",id:"pre-commit",level:3},{value:"\u642D\u914D\u5176\u4ED6\u63D2\u4EF6",id:"\u642D\u914D\u5176\u4ED6\u63D2\u4EF6",level:2},{value:"\u53C2\u8003\u6587\u7AE0",id:"\u53C2\u8003\u6587\u7AE0",level:2}];function o(e){let n={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,i.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:["Create by ",(0,r.jsx)(n.strong,{children:"fall"})," on 2022-04-05\r\nRecently revised in 2022-05-30"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"husky",children:"husky"}),"\n",(0,r.jsx)(n.p,{children:"\u7528\u4E8E\u5C06\u4EE3\u7801\u63A8\u9001\u5230 git \u4E0A"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'npm i lint-staged husky -D\r\nnpm set-script prepare "husky install" # \u5728 package.json \u4E2D\u6DFB\u52A0\u811A\u672C\r\nnpm run prepare # \u521D\u59CB\u5316 husky\uFF0C\u5C06 git hooks \u94A9\u5B50\u4EA4\u7531 husky \u6267\u884C\n'})}),"\n",(0,r.jsxs)(n.p,{children:["\u5728\u521D\u59CB\u5316\u4E4B\u540E\uFF0C\u4F1A\u5728\u6839\u76EE\u5F55\u521B\u5EFA ",(0,r.jsx)(n.code,{children:".husky"})," \u6587\u4EF6\u5939"]}),"\n",(0,r.jsxs)(n.p,{children:["\u6DFB\u52A0 ",(0,r.jsx)(n.code,{children:"pre-commit"})," \u94A9\u5B50\u547D\u4EE4\uFF1A",(0,r.jsx)(n.code,{children:'npx husky add .husky/pre-commit "npx lint-staged"'})]}),"\n",(0,r.jsx)(n.p,{children:"lint-satged \u7528\u4E8E lint \u7684\u7F13\u5B58\u3002"}),"\n",(0,r.jsx)(n.h3,{id:"pre-commit",children:"pre-commit"}),"\n",(0,r.jsxs)(n.p,{children:["\u5728 ",(0,r.jsx)(n.code,{children:".husky"})," \u6587\u4EF6\u5939\u5185\u521B\u5EFA\u540D\u4E3A ",(0,r.jsx)(n.code,{children:"pre-commit"})," \u6587\u4EF6\u5939\uFF0C\u7136\u540E\u5728\u6587\u4EF6\u5939\u5185\u6DFB\u52A0\u5982\u4E0B\u5185\u5BB9"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'#!/bin/sh\r\n. "$(dirname "$0")/_/husky.sh"\r\nnpm run lint-staged\n'})}),"\n",(0,r.jsx)(n.h2,{id:"\u642D\u914D\u5176\u4ED6\u63D2\u4EF6",children:"\u642D\u914D\u5176\u4ED6\u63D2\u4EF6"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"commitlint"}),"\uFF1A\u7528\u6765\u5BF9 commit \u7684\u5185\u5BB9\u8FDB\u884C\u7EA6\u675F\u3002"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"lint-staged"}),"\uFF1A\u5BF9\u4EE3\u7801\u8FDB\u884C\u683C\u5F0F\u5316\uFF0C\u5982\u679C\u6709\u9519\u8BEF\uFF0C\u5C06\u4E0D\u80FD\u4E0A\u4F20\u4EE3\u7801\u3002"]}),"\n",(0,r.jsxs)(n.p,{children:["\u5B89\u88C5 lint-staged ",(0,r.jsx)(n.code,{children:"yarn add lint-staged"})]}),"\n",(0,r.jsx)(n.p,{children:"package.json \u4E2D\uFF0C\u6DFB\u52A0\u5982\u4E0B\u5185\u5BB9"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\r\n  "lint-staged": {\r\n    "*.less": "stylelint --syntax less",\r\n    "*.{js,jsx,ts,tsx}": [\r\n      "eslint  --fix"\r\n    ],\r\n    "*.{md,json}": [\r\n      "prettier --write"\r\n    ]\r\n  },\r\n  "script":{\r\n    "lint-staged": "lint-staged",\r\n    "lint-staged:js": "eslint --ext .js,.jsx,.ts,.tsx ",\r\n  }\r\n}\n'})}),"\n",(0,r.jsx)(n.h2,{id:"\u53C2\u8003\u6587\u7AE0",children:"\u53C2\u8003\u6587\u7AE0"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"\u4F5C\u8005"}),(0,r.jsx)(n.th,{children:"\u94FE\u63A5"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"jpliu"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.a,{href:"https://juejin.cn/post/7038143752036155428",children:"https://juejin.cn/post/7038143752036155428"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"\u5565\u4E5F\u4E0D\u662F\u7684\u5C0F\u5783\u573E"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.a,{href:"https://juejin.cn/post/6982192362583752741",children:"https://juejin.cn/post/6982192362583752741"})})]})]})]})]})}function a(e={}){let{wrapper:n}={...(0,i.a)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(o,{...e})}):o(e)}},3663:function(e,n,s){s.d(n,{Z:function(){return d},a:function(){return l}});var t=s(5271);let r={},i=t.createContext(r);function l(e){let n=t.useContext(i);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),t.createElement(i.Provider,{value:n},e.children)}}}]);