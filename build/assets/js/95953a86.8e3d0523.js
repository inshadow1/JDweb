"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([["5163"],{617:function(e,n,t){t.r(n),t.d(n,{default:()=>u,frontMatter:()=>l,metadata:()=>r,assets:()=>c,toc:()=>a,contentTitle:()=>i});var r=JSON.parse('{"id":"\u540E\u7AEF/3.3-os\u548Cevent\u6A21\u5757","title":"3.3-os\u548Cevent\u6A21\u5757","description":"Create by fall on 2021-07-14","source":"@site/my-docs/\u540E\u7AEF/3.3-os\u548Cevent\u6A21\u5757.md","sourceDirName":"\u540E\u7AEF","slug":"/\u540E\u7AEF/3.3-os\u548Cevent\u6A21\u5757","permalink":"/docs/\u540E\u7AEF/3.3-os\u548Cevent\u6A21\u5757","draft":false,"unlisted":false,"editUrl":"https://github.com/my-docs/\u540E\u7AEF/3.3-os\u548Cevent\u6A21\u5757.md","tags":[],"version":"current","sidebarPosition":36,"frontMatter":{"sidebar_position":36},"sidebar":"tutorialSidebar","previous":{"title":"3.2-fs\u548Cpath\u6A21\u5757","permalink":"/docs/\u540E\u7AEF/3.2-fs\u548Cpath\u6A21\u5757"},"next":{"title":"4.1-express","permalink":"/docs/\u540E\u7AEF/4.1-express"}}'),s=t("2676"),o=t("3663");let l={sidebar_position:36},i=void 0,c={},a=[{value:"\u7CFB\u7EDF\u6A21\u5757",id:"\u7CFB\u7EDF\u6A21\u5757",level:2},{value:"\u7B2C\u4E09\u65B9\u7CFB\u7EDF\u6A21\u5757",id:"\u7B2C\u4E09\u65B9\u7CFB\u7EDF\u6A21\u5757",level:2},{value:"Event\u6A21\u5757",id:"event\u6A21\u5757",level:2}];function d(e){let n={blockquote:"blockquote",code:"code",h2:"h2",p:"p",pre:"pre",strong:"strong",...(0,o.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsxs)(n.p,{children:["Create by ",(0,s.jsx)(n.strong,{children:"fall"})," on 2021-07-14\r\nRecently revised in 2021-08-24"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"\u7CFB\u7EDF\u6A21\u5757",children:"\u7CFB\u7EDF\u6A21\u5757"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"const os = require('os')\r\nconsole.log(os.totalmem()) // \u7CFB\u7EDF\u5185\u5B58\u603B\u91CF\r\nconsole.log(os.freemem()) // \u64CD\u4F5C\u7CFB\u7EDF\u7A7A\u95F2\u5185\u5B58\u91CF\r\nconst men = os.freemem() /os.totalmem() *100\r\nconsole.log('\u5185\u5B58\u5360\u6709\u7387\u4E3A'+men.toFixed(2)+\"%\")\n"})}),"\n",(0,s.jsx)(n.h2,{id:"\u7B2C\u4E09\u65B9\u7CFB\u7EDF\u6A21\u5757",children:"\u7B2C\u4E09\u65B9\u7CFB\u7EDF\u6A21\u5757"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.code,{children:"cpu-stat"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"const cpuStat = require('cpu-stat')\r\ncpuStat.usagePercent((err,percent)=>{\r\n  console.log(perc)\r\n})\n"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsxs)(n.p,{children:["Create by ",(0,s.jsx)(n.strong,{children:"fall"})," on 13 Oct 2023\r\nRecently revised in 13 Oct 2023"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"event\u6A21\u5757",children:"Event\u6A21\u5757"}),"\n",(0,s.jsx)(n.p,{children:"\u6700\u7B80\u5355\u7684\u793A\u4F8B"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"const events = require('events')\r\nvar eventEmitter = new events.EventEmitter();\r\n\r\neventEmitter.on('open', openDataBase);\r\neventEmitter.on('read',()=>{\r\n  console.log('\u8BFB\u53D6')\r\n})\r\nfunction openDataBase(){\r\n  console.log('\u6253\u5F00\u6570\u636E\u5E93')\r\n  eventEmitter.emit('read')\r\n}\r\neventEmitter.emit('open')\n"})}),"\n",(0,s.jsx)(n.p,{children:"event \u6A21\u5757\u914D\u5408 fs \u6A21\u5757\u4F7F\u7528"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"// log.txt\r\n\u5389\u5BB3\u4E86\uFF0C\u6211\u7684\u5929\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"// ev1ent.js\r\nconst events = require('events')\r\nconst fs = require('fs')\r\nvar eventEmitter = new events.EventEmitter();\r\nfs.readFile('./log.txt',(err,data)=>{\r\n  if(err){\r\n    console.log('\u8BFB\u53D6\u9519\u8BEF')\r\n  }else{\r\n    eventEmitter.emit('my_event',data);\r\n  }\r\n})\r\n// \u5148\u628A\u89E6\u53D1\u7684\u4E8B\u4EF6\u5B9A\u4E49\u597D\uFF0C\u5728\u89E6\u53D1\u4E4B\u540E\uFF0C\u4F1A\u6267\u884C\u8BE5\u4E8B\u4EF6\r\neventEmitter.on('my_event', (data) => {\r\n  console.log('output:');\r\n  console.log(data.toString())\r\n})\n"})})]})}function u(e={}){let{wrapper:n}={...(0,o.a)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},3663:function(e,n,t){t.d(n,{Z:function(){return i},a:function(){return l}});var r=t(5271);let s={},o=r.createContext(s);function l(e){let n=r.useContext(o);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:l(e.components),r.createElement(o.Provider,{value:n},e.children)}}}]);