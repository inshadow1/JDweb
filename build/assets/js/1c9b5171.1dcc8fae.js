"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([["8526"],{6238:function(e,n,r){r.r(n),r.d(n,{default:()=>x,frontMatter:()=>d,metadata:()=>l,assets:()=>i,toc:()=>t,contentTitle:()=>s});var l=JSON.parse('{"id":"JavaScript & TypeScript/4.3-\u8FED\u4EE3\u5668","title":"4.3-\u8FED\u4EE3\u5668","description":"Create by fall on 22 Sep 2021","source":"@site/my-docs/JavaScript & TypeScript/4.3-\u8FED\u4EE3\u5668.md","sourceDirName":"JavaScript & TypeScript","slug":"/JavaScript & TypeScript/4.3-\u8FED\u4EE3\u5668","permalink":"/docs/JavaScript & TypeScript/4.3-\u8FED\u4EE3\u5668","draft":false,"unlisted":false,"editUrl":"https://github.com/my-docs/JavaScript & TypeScript/4.3-\u8FED\u4EE3\u5668.md","tags":[],"version":"current","sidebarPosition":72,"frontMatter":{"sidebar_position":72},"sidebar":"tutorialSidebar","previous":{"title":"4.2-Promise \u548C async","permalink":"/docs/JavaScript & TypeScript/4.2-Promise \u548C async"},"next":{"title":"4.4-\u6570\u636E\u901A\u4FE1","permalink":"/docs/JavaScript & TypeScript/4.4-\u6570\u636E\u901A\u4FE1"}}'),o=r("2676"),c=r("3663");let d={sidebar_position:72},s="\u8FED\u4EE3\u5668",i={},t=[{value:"Iterator",id:"iterator",level:2},{value:"Generator",id:"generator",level:2},{value:"\u5B9E\u4F8B\u65B9\u6CD5",id:"\u5B9E\u4F8B\u65B9\u6CD5",level:3},{value:"\u5E94\u7528",id:"\u5E94\u7528",level:3},{value:"\u53C2\u8003\u6587\u7AE0",id:"\u53C2\u8003\u6587\u7AE0",level:2}];function a(e){let n={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,c.a)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(n.blockquote,{children:["\n",(0,o.jsxs)(n.p,{children:["Create by ",(0,o.jsx)(n.strong,{children:"fall"})," on 22 Sep 2021\r\nRecently revised in 27 Feb 2023"]}),"\n"]}),"\n",(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"\u8FED\u4EE3\u5668",children:"\u8FED\u4EE3\u5668"})}),"\n",(0,o.jsx)(n.h2,{id:"iterator",children:"Iterator"}),"\n",(0,o.jsx)(n.p,{children:"\u8FED\u4EE3\u5668\uFF0C\u63D0\u4F9B\u4E86\u904D\u5386\u8BBF\u95EE\u6570\u636E\u7684\u673A\u5236\uFF0C\u90E8\u7F72\u5728\u53EF\u8FED\u4EE3\u7684\u6570\u636E\u7ED3\u6784\u5185\u90E8\u6216\u8005\u539F\u578B\u4E0A\u3002"}),"\n",(0,o.jsxs)(n.p,{children:["\u4E00\u4E2A\u5BF9\u8C61\u8981\u80FD\u591F\u6210\u4E3A\u8FED\u4EE3\u5668\uFF0C\u5B83\u5FC5\u987B\u6709\u4E00\u4E2A ",(0,o.jsx)(n.code,{children:"next()"})," \u65B9\u6CD5\uFF0C\u6BCF\u6B21\u6267\u884C ",(0,o.jsx)(n.code,{children:"next()"})," \u65B9\u6CD5\u4F1A\u8FD4\u56DE\u4E00\u4E2A\u5BF9\u8C61\uFF0C\u8FD9\u4E2A\u5BF9\u8C61\u5305\u542B\u4E86\u4E00\u4E2A ",(0,o.jsx)(n.code,{children:"done"})," \u5C5E\u6027\uFF08\u662F\u4E2A\u5E03\u5C14\u503C\uFF0C",(0,o.jsx)(n.code,{children:"true"})," \u8868\u793A\u53EF\u4EE5\u7EE7\u7EED\u4E0B\u6B21\u8FED\u4EE3\uFF09\u548C\u4E00\u4E2A ",(0,o.jsx)(n.code,{children:"value"})," \u5C5E\u6027\uFF08\u6BCF\u6B21\u8FED\u4EE3\u7684\u503C\uFF09"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-js",children:"// \u624B\u5199\u4E00\u4E2A\u8FED\u4EE3\u5668\r\nfunction makeIterator (arr){\r\n  let index = 0\r\n  return {\r\n    next(){\r\n       return index < arr.length ? {\r\n         value:arr[index++],\r\n         done:false\r\n       }:{done:true}\r\n    }\r\n  }\r\n}\r\nlet blah = makeIterator([10,20,45])\n"})}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.code,{children:"iterable"})," \u53EF\u8FED\u4EE3\u6570\u636E\u7ED3\u6784\uFF1A\u5185\u90E8\u6216\u8005\u539F\u578B\u4E0A\u5FC5\u987B\u6709\u4E00\u4E2A ",(0,o.jsx)(n.code,{children:"Symbol.iterator"})," \u5C5E\u6027\uFF08\u5982\u679C\u662F\u5F02\u6B65\u7684\u5219\u662F ",(0,o.jsx)(n.code,{children:"Symbol.asyncIterator"}),"\uFF09\uFF0C\u8FD9\u4E2A\u5C5E\u6027\u662F\u4E00\u4E2A\u51FD\u6570\uFF0C\u6267\u884C\u540E\u4F1A\u751F\u6210\u4E00\u4E2A\u8FED\u4EE3\u5668\uFF1A"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-js",children:"let obj = {\r\n  [Symbol.iterator]() {\r\n    return {\r\n      index: 0,\r\n      next() {\r\n        if (this.index < 3) {\r\n          return {value: this.index++, done: false}\r\n        } else {\r\n          return {done: true}\r\n        }\r\n      } \r\n    }\r\n  }\r\n}\r\nfor (let x of obj) {\r\n  console.log(x)  // 0 1 2\r\n}\n"})}),"\n",(0,o.jsxs)(n.p,{children:["\u5185\u7F6E\u7684\u4E00\u4E9B\u53EF\u8FED\u4EE3\u6570\u636E\u7ED3\u6784\u6709\uFF1A",(0,o.jsx)(n.code,{children:"String"}),"\u3001",(0,o.jsx)(n.code,{children:"Array"}),"\u3001",(0,o.jsx)(n.code,{children:"TypedArray"}),"\u3001",(0,o.jsx)(n.code,{children:"Map"})," \u548C ",(0,o.jsx)(n.code,{children:"Set"}),"\u3001",(0,o.jsx)(n.code,{children:"arguments"}),"\u3001",(0,o.jsx)(n.code,{children:"NodeList"}),"\uFF1A"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-js",children:"let si = 'hi'[Symbol.iterator]()\r\nsi         // StringIterator\r\nsi.next()  // {value: 'h', done: false}\r\nsi.next()  // {value: 'i', done: false}\r\nsi.next()  // {value: undefined, done: true}\n"})}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.code,{children:"for...of"}),"\uFF1A\u7528\u4E8E\u904D\u5386\u53EF\u8FED\u4EE3\u6570\u636E\u7ED3\u6784\uFF1A"]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["\u904D\u5386\u5B57\u7B26\u4E32\uFF1A",(0,o.jsx)(n.code,{children:"for...in"})," \u83B7\u53D6\u7D22\u5F15\uFF0C",(0,o.jsx)(n.code,{children:"for...of"})," \u83B7\u53D6\u503C\uFF1B"]}),"\n",(0,o.jsxs)(n.li,{children:["\u904D\u5386\u6570\u7EC4\uFF1A",(0,o.jsx)(n.code,{children:"for...in"})," \u83B7\u53D6\u7D22\u5F15\uFF0C",(0,o.jsx)(n.code,{children:"for...of"})," \u83B7\u53D6\u503C\uFF1B"]}),"\n",(0,o.jsxs)(n.li,{children:["\u904D\u5386\u5BF9\u8C61\uFF1A",(0,o.jsx)(n.code,{children:"for...in"})," \u83B7\u53D6\u952E\uFF0C",(0,o.jsx)(n.code,{children:"for...of"})," \u9700\u81EA\u884C\u90E8\u7F72 ",(0,o.jsx)(n.code,{children:"[Symbol.iterator]"})," \u63A5\u53E3\uFF1B"]}),"\n",(0,o.jsxs)(n.li,{children:["\u904D\u5386 ",(0,o.jsx)(n.code,{children:"Set"}),"\uFF1A",(0,o.jsx)(n.code,{children:"for...of"})," \u83B7\u53D6\u503C\uFF0C ",(0,o.jsx)(n.code,{children:"for (const v of set)"}),"\uFF1B"]}),"\n",(0,o.jsxs)(n.li,{children:["\u904D\u5386 ",(0,o.jsx)(n.code,{children:"Map"}),"\uFF1A",(0,o.jsx)(n.code,{children:"for...of"})," \u83B7\u53D6\u952E\u503C\u5BF9\uFF0C",(0,o.jsx)(n.code,{children:"for (const [k, v] of map)"}),"\uFF1B"]}),"\n",(0,o.jsxs)(n.li,{children:["\u904D\u5386\u7C7B\u6570\u7EC4\uFF1A\u5305\u542B ",(0,o.jsx)(n.code,{children:"length"})," \u7684\u5BF9\u8C61\u3001",(0,o.jsx)(n.code,{children:"arguments"})," \u5BF9\u8C61\u3001",(0,o.jsx)(n.code,{children:"NodeList"}),"\u5BF9\u8C61(\u65E0 ",(0,o.jsx)(n.code,{children:"Iterator"})," \u63A5\u53E3\u7684\u7C7B\u6570\u7EC4\u53EF\u7528 ",(0,o.jsx)(n.code,{children:"Array.from()"})," \u8F6C\u6362)\uFF1B"]}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-js",children:"// \u8FED\u4EE3\u5B57\u7B26\u4E32\r\nfor (let x of 'abc') {\r\n    console.log(x)  // 'a' 'b' 'c'\r\n}\r\n\r\n// \u8FED\u4EE3\u6570\u7EC4\r\nfor (let x of ['a', 'b', 'c']) {\r\n    console.log(x)  //  'a' 'b' 'c'\r\n}\r\n\r\n// \u904D\u5386 Set\r\nlet set = new Set(['a', 'b', 'c'])\r\nfor (let x of set) {\r\n    console.log(x)  // 'a' 'b' 'c'\r\n}\r\n\r\n// \u904D\u5386 Map\r\nlet map = new Map([['name', '\u5E03\u5170'], ['age', 12]])\r\nfor (let [key, value] of map) {\r\n    console.log(key + ': ' + value)  // 'name: \u5E03\u5170' 'age: 12'  \r\n}\n"})}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.code,{children:"for...of"})," \u548C ",(0,o.jsx)(n.code,{children:"for...in"})," \u5BF9\u6BD4"]}),"\n",(0,o.jsxs)(n.p,{children:["\u5171\u540C\u70B9\uFF1A\u80FD\u591F\u901A\u8FC7 ",(0,o.jsx)(n.code,{children:"break"}),"\u3001",(0,o.jsx)(n.code,{children:"continue"})," \u548C ",(0,o.jsx)(n.code,{children:"return"})," \u8DF3\u51FA\u5FAA\u73AF"]}),"\n",(0,o.jsxs)(n.p,{children:["\u4E0D\u540C\u70B9\uFF1A - ",(0,o.jsx)(n.code,{children:"for...in"})," \u7684\u7279\u70B9\uFF1A\u53EA\u80FD\u904D\u5386\u952E\uFF0C\u4F1A\u904D\u5386\u539F\u578B\u4E0A\u5C5E\u6027\uFF0C\u904D\u5386\u65E0\u987A\u5E8F\uFF0C\u9002\u5408\u4E8E\u5BF9\u8C61\u7684\u904D\u5386\uFF1B - ",(0,o.jsx)(n.code,{children:"for...of"})," \u7684\u7279\u70B9\uFF1A\u80FD\u591F\u904D\u5386\u503C\uFF08\u67D0\u4E9B\u6570\u636E\u7ED3\u6784\u80FD\u904D\u5386\u952E\u548C\u503C\uFF0C\u6BD4\u5982 ",(0,o.jsx)(n.code,{children:"Map"}),"\uFF09\uFF0C\u4E0D\u4F1A\u904D\u5386\u539F\u578B\u4E0A\u7684\u952E\u503C\uFF0C\u904D\u5386\u987A\u5E8F\u4E3A\u6570\u636E\u7684\u6DFB\u52A0\u987A\u5E8F\uFF0C\u9002\u7528\u4E8E\u904D\u5386\u53EF\u8FED\u4EE3\u6570\u636E\u7ED3\u6784"]}),"\n",(0,o.jsx)(n.h2,{id:"generator",children:"Generator"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"\u751F\u6210\u5668\u51FD\u6570\u5185\u90E8\u6267\u884C\u4E00\u6BB5\u4EE3\u7801\uFF0C\u9047\u5230 yield \u5173\u952E\u5B57\uFF0Cjavascript \u5F15\u64CE\u8FD4\u56DE\u5173\u952E\u5B57\u540E\u9762\u7684\u5185\u5BB9\u7ED9\u5916\u90E8\uFF0C\u5E76\u4E14\u6682\u505C\u8BE5\u51FD\u6570\u7684\u6267\u884C\uFF1B"}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"\u5916\u90E8\u51FD\u6570\u53EF\u4EE5\u540C\u6B65 next \u65B9\u6CD5\u6062\u590D\u51FD\u6570\u7684\u6267\u884C\uFF1B"}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.code,{children:"function*"})," \u4F1A\u751F\u6210\u4E00\u4E2A\u51FD\u6570\uFF0C\u8BE5\u51FD\u6570\u4E0D\u4F1A\u7ACB\u5373\u6267\u884C\uFF0C\u800C\u662F\u8FD4\u56DE\u4E00\u4E2A ",(0,o.jsx)(n.code,{children:"Generator"})," \u5BF9\u8C61\uFF0C\u8FD9\u4E2A ",(0,o.jsx)(n.code,{children:"Generator"})," \u662F\u53EF\u4EE5\u88AB\u8FED\u4EE3\u7684\u3002"]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"\u53EF\u4EE5\u5B9E\u73B0\u6682\u505C\u6267\u884C\u548C\u6062\u590D\u6267\u884C"}),"\n",(0,o.jsxs)(n.li,{children:["\u8FD4\u56DE\u7684 ",(0,o.jsx)(n.code,{children:"Generator"})," \u5BF9\u8C61\u6709\u4E24\u4E2A ",(0,o.jsx)(n.code,{children:"key"}),"\uFF0C\u4E00\u4E2A\u662F value \u53E6\u4E00\u4E2A\u662F done\u3002"]}),"\n",(0,o.jsxs)(n.li,{children:["\u5982\u679C\u9047\u5230\u5173\u952E\u5B57 ",(0,o.jsx)(n.code,{children:"yield"})," \u5C31\u4F1A\u505C\u6B62\uFF0C\u5E76\u4E14\u8FD4\u56DE\u8BE5\u5173\u952E\u5B57\u540E\u9762\u7684\u5185\u5BB9\u4F5C\u4E3A value \u8FDB\u884C\u8FD4\u56DE"]}),"\n",(0,o.jsxs)(n.li,{children:["\u518D\u6B21\u8C03\u7528 ",(0,o.jsx)(n.code,{children:".next()"})," \u4F1A\u7EE7\u7EED\u6267\u884C\uFF0C\u76F4\u5230\u9047\u5230\u4E0B\u4E00\u4E2A ",(0,o.jsx)(n.code,{children:"yield"})," \u5173\u952E\u5B57\uFF0C\u6216\u8005 ",(0,o.jsx)(n.code,{children:"return"})," \u5E76\u4E14\u8FD4\u56DE ",(0,o.jsx)(n.code,{children:"return"})," \u4E2D\u7684\u5185\u5BB9"]}),"\n",(0,o.jsxs)(n.li,{children:["\u540C ",(0,o.jsx)(n.code,{children:"function"})," \u4E2D\u7684 ",(0,o.jsx)(n.code,{children:"return"})," \u5982\u679C\u4E0D\u8BBE\u7F6E\uFF0C\u4F1A\u8FD4\u56DE ",(0,o.jsx)(n.code,{children:"undefined"})]}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"\u793A\u4F8B\u4E00"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-js",children:"function* gen(){\r\n  console.log(1)\r\n  yield 'once'\r\n  console.log(2)\r\n  yield 'twice'\r\n  console.log(3)\r\n  return 'end'\r\n  console.log(4)\r\n}\r\nlet go = gen()\r\ngo.next()\r\n// 1 -- log \u8F93\u51FA\r\n// { value: \"once\", done: false }\r\ngo.next()\r\n// 2 -- log \u8F93\u51FA\r\n// { value: \"twice\", done: false }\r\ngo.next()\r\n// 3 -- log \u8F93\u51FA\r\n// { value: \"end\", done: ture }\r\ngo.next() // { value: undefined, done: ture }\r\n// \u5982\u679C\u6CA1\u6709 return\r\nfunction* gen2(){\r\n  yield 'once'\r\n}\r\nlet go2 = gen2()\r\ngo2.next() // { value: \"once\", done: false }\r\ngo2.next() // { value: undefined, done: ture }\n"})}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.code,{children:"yield"})," \u540E\u9762\u53EF\u4EE5\u6DFB\u52A0 ",(0,o.jsx)(n.code,{children:"*"})," \u53EF\u4EE5\u5B9E\u73B0\u591A\u6B21\u8FED\u4EE3\u3002"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-js",children:"function* inner() {\r\n    yield* [1, 2] // \u5982\u679C\u5411 yield \u540E\u9762\u6DFB\u52A0 *\uFF0C\u6B64\u5904\u8868\u793A\uFF0C\u5148\u8FD4\u56DE 1 \u4F5C\u4E3A value\uFF0C\u7136\u540E\u8FD4\u56DE 2 \u4F5C\u4E3A value\r\n    return 'fall'\r\n}\r\nlet i = inner()\r\ni.next() // 1\n"})}),"\n",(0,o.jsx)(n.p,{children:"yield \u5173\u952E\u5B57\u8FD8\u53EF\u4EE5\u8C03\u7528\u51FD\u6570"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-js",children:"function* outer(){\r\n  const result = yield* inner() // result \u4F1A\u88AB\u8D4B\u503C\u4E3A return \u7684\u503C\uFF0C\u5E76\u4E14\u4E0A\u4E2A\u51FD\u6570\u7684 return \u4E0D\u4F1A\u88AB\u8F93\u51FA\uFF0C\u53EA\u4F1A\u88AB\u63A5\u53D7\u5230\r\n  // \u5E76\u4E14\u5982\u679C\u4E0D\u5728 yield \u540E\u9762\u6DFB\u52A0 * \u4F1A\u76F4\u63A5\u628A inner() \u4F5C\u4E3A value \u8FDB\u884C\u8FD4\u56DE\r\n	console.log(result)\r\n}\r\nlet i = outer()\r\ni.next()  // { value: 1, done: false }\r\ni.next()  // { value: 1, done: false }\r\ni.next()  // fall {value:undefined,done:true}\n"})}),"\n",(0,o.jsx)(n.h3,{id:"\u5B9E\u4F8B\u65B9\u6CD5",children:"\u5B9E\u4F8B\u65B9\u6CD5"}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.code,{children:"Generator.prototype.next()"})}),"\n",(0,o.jsxs)(n.p,{children:["\u8BE5\u65B9\u6CD5\u4F1A\u8FD4\u56DE\u4E00\u4E2A\u5E26\u6709",(0,o.jsx)(n.code,{children:"value"})," ",(0,o.jsx)(n.code,{children:"done"})," \u7684\u5BF9\u8C61\u3002\u5982\u679C\u4F20\u5165\u4E86\u53C2\u6570\uFF0C\u90A3\u4E48\u8FD9\u4E2A\u53C2\u6570\u4F1A\u4F20\u7ED9\u4E0A\u4E00\u6761\u6267\u884C\u7684 ",(0,o.jsx)(n.code,{children:"yield"})," \u8BED\u53E5\u5DE6\u8FB9\u7684\u53D8\u91CF"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-js",children:"function* f(es) {\r\n  console.log(es)\r\n  let a = yield 12\r\n  console.log(a)\r\n  let b = yield a\r\n  console.log(b)\r\n}\r\nlet g = f()\r\nconsole.log(g.next('1212')) // \u7B2C\u4E00\u4E2Anext\u91CC\u9762\u7684\u503C\u5E94\u8BE5\u4F1A\u88AB\u5E9F\u5F03\r\nconsole.log(g.next('1313')) // \u53EF\u4EE5\u901A\u8FC7 next \u4E2D\u4F20\u503C\uFF0C\u8D4B\u503C\u7ED9 a \r\nconsole.log(g.next('9999'))\r\n// {value: 12, done: false}\r\n// '1313'\r\n// {value: 'b', done: false}\r\n// '9999'\r\n// {value: undefined, done: true}\n"})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.code,{children:"Generator.prototype.throw()"})}),"\n",(0,o.jsx)(n.p,{children:"\u7528\u4E8E\u5411\u751F\u6210\u5668\u4E2D\u629B\u51FA\u5F02\u5E38"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-js",children:"function* gen() {\r\n    try {\r\n        yield 'a'\r\n    } catch(e) {\r\n        console.log(e)\r\n    }\r\n    yield 'b'\r\n}\r\nlet g = gen()\r\ng.next()\r\ng.throw('error a')\r\ng.next()\r\n// {value: \"a\", done: false}\r\n// 'error a' \r\n// {value: \"b\", done: false}\r\n// {value: undefined, done: true}\n"})}),"\n",(0,o.jsx)(n.p,{children:"\u5982\u679C\u6CA1\u6709\u8865\u8D27\u9519\u8BEF\uFF0C\u540E\u9762\u7684\u4EE3\u7801\u5C06\u4E0D\u4F1A\u88AB\u6267\u884C"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-js",children:"function* gen() {\r\n    yield 'a'\r\n    yield 'b'\r\n    yield 'c'\r\n}\r\nlet g = gen()\r\ng.next()\r\ntry {\r\n    g.throw('error a')\r\n} catch(e) {\r\n    console.log(e)\r\n}\r\ng.next()\r\n// {value: \"a\", done: false}\r\n// 'error a'\r\n// {value: undefined, done: true}\n"})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.code,{children:"Generator.prototype.return()"})}),"\n",(0,o.jsx)(n.p,{children:"\u76F4\u63A5\u7ED3\u675F\u6267\u884C"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-js",children:"function* gen() {\r\n    yield 1\r\n    yield 2\r\n    yield 3\r\n}  \r\nlet g = gen()\r\ng.next()         // { value: 1, done: false }\r\ng.return('foo')  // {value :\"foo\",done:true}\n"})}),"\n",(0,o.jsx)(n.h3,{id:"\u5E94\u7528",children:"\u5E94\u7528"}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"\u5C06\u5F02\u6B65\u64CD\u4F5C\u540C\u6B65\u5316"})}),"\n",(0,o.jsx)(n.p,{children:"\u6BD4\u5982\u540C\u65F6\u6709\u591A\u4E2A\u8BF7\u6C42\uFF0C\u591A\u4E2A\u8BF7\u6C42\u4E4B\u95F4\u662F\u6709\u987A\u5E8F\u7684\uFF0C\u53EA\u80FD\u7B49\u524D\u9762\u7684\u8BF7\u6C42\u5B8C\u6210\u4E86\u624D\u8BF7\u6C42\u540E\u9762\u7684\uFF1A"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-js",children:"function* main() {\r\n  let res1 = yield request('a')\r\n  console.log(res1)\r\n  let res2 = yield request('b')\r\n  console.log(res2)\r\n  let res3 = yield request('c')\r\n  console.log(res3)\r\n}\r\nfunction request(url) {\r\n  setTimeout(function(){  // \u6A21\u62DF\u5F02\u6B65\u8BF7\u6C42\r\n    it.next(url)\r\n  }, 300)\r\n}\r\nlet it = main()\r\nit.next()\r\n// 'a' 'b' 'c'\n"})}),"\n",(0,o.jsxs)(n.p,{children:["\u7ED9\u5BF9\u8C61\u90E8\u7F72 ",(0,o.jsx)(n.code,{children:"Iterator"})," \u63A5\u53E3\uFF1A"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-js",children:"function* iterEntries(obj) {\r\n  let keys = Object.keys(obj)\r\n  for (let i = 0; i < keys.length; i++) {\r\n    let key = keys[i]\r\n    yield [key, obj[key]]\r\n  }\r\n}\r\nobj = { foo: 3, bar: 7 }\r\nfor (let [key, value] of iterEntries(obj)) {\r\n  console.log(key, value)\r\n}\r\n// foo 3\r\n// bar 7\n"})}),"\n",(0,o.jsx)(n.h2,{id:"\u53C2\u8003\u6587\u7AE0",children:"\u53C2\u8003\u6587\u7AE0"}),"\n",(0,o.jsxs)(n.table,{children:[(0,o.jsx)(n.thead,{children:(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.th,{children:"\u4F5C\u8005"}),(0,o.jsx)(n.th,{children:"\u94FE\u63A5"})]})}),(0,o.jsx)(n.tbody,{children:(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"\u5927\u6D77\u6211\u6765\u4E86"}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.a,{href:"https://juejin.cn/post/6895898051559456776",children:"https://juejin.cn/post/6895898051559456776"})})]})})]})]})}function x(e={}){let{wrapper:n}={...(0,c.a)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(a,{...e})}):a(e)}},3663:function(e,n,r){r.d(n,{Z:function(){return s},a:function(){return d}});var l=r(5271);let o={},c=l.createContext(o);function d(e){let n=l.useContext(c);return l.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:d(e.components),l.createElement(c.Provider,{value:n},e.children)}}}]);