"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([["7966"],{3237:function(e,n,t){t.r(n),t.d(n,{default:()=>u,frontMatter:()=>o,metadata:()=>r,assets:()=>l,toc:()=>a,contentTitle:()=>c});var r=JSON.parse('{"id":"React/class \u7EC4\u4EF6/5-\u8DEF\u7531\u7684\u4F7F\u7528","title":"5-\u8DEF\u7531\u7684\u4F7F\u7528","description":"Create by fall on 2021-12-19","source":"@site/my-docs/React/class \u7EC4\u4EF6/5-\u8DEF\u7531\u7684\u4F7F\u7528.md","sourceDirName":"React/class \u7EC4\u4EF6","slug":"/React/class \u7EC4\u4EF6/5-\u8DEF\u7531\u7684\u4F7F\u7528","permalink":"/docs/React/class \u7EC4\u4EF6/5-\u8DEF\u7531\u7684\u4F7F\u7528","draft":false,"unlisted":false,"editUrl":"https://github.com/my-docs/React/class \u7EC4\u4EF6/5-\u8DEF\u7531\u7684\u4F7F\u7528.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"4-\u9AD8\u9636\u7EC4\u4EF6","permalink":"/docs/React/class \u7EC4\u4EF6/4-\u9AD8\u9636\u7EC4\u4EF6"},"next":{"title":"\u540E\u7AEF","permalink":"/docs/category/\u540E\u7AEF"}}'),s=t("5893"),i=t("65");let o={},c=void 0,l={},a=[{value:"\u8DEF\u7531\u4F20\u53C2",id:"\u8DEF\u7531\u4F20\u53C2",level:2},{value:"\u4F20\u9012\u53C2\u6570",id:"\u4F20\u9012\u53C2\u6570",level:3},{value:"\u67E5\u8BE2\u5B57\u7B26\u4E32",id:"\u67E5\u8BE2\u5B57\u7B26\u4E32",level:3},{value:"\u4F20\u9012 state",id:"\u4F20\u9012-state",level:3},{value:"V5 \u8DEF\u7531\u7684\u4F7F\u7528",id:"v5-\u8DEF\u7531\u7684\u4F7F\u7528",level:2}];function d(e){let n={blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsxs)(n.p,{children:["Create by ",(0,s.jsx)(n.strong,{children:"fall"})," on 2021-12-19\r\nRecently revised in 2021-12-26"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"\u8DEF\u7531\u4F20\u53C2",children:"\u8DEF\u7531\u4F20\u53C2"}),"\n",(0,s.jsx)(n.h3,{id:"\u4F20\u9012\u53C2\u6570",children:"\u4F20\u9012\u53C2\u6570"}),"\n",(0,s.jsx)(n.h3,{id:"\u67E5\u8BE2\u5B57\u7B26\u4E32",children:"\u67E5\u8BE2\u5B57\u7B26\u4E32"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-jsx",children:"class Button extends React.Component{\r\n  render(){\r\n    return(\r\n    	<button>\r\n        <Link to={`/home/message/detail?id=${item.id}&title=${item.title}`} >{item.title}</Link>\r\n      </button>\r\n    )\r\n  }\r\n}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"\u4F20\u9012-state",children:"\u4F20\u9012 state"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-jsx",children:"<li key={item.id}><Link to={pathname: `/home/message/detail`, state:{id:item.id, title:item.title}}>{item.title}</Link></li>\r\n// \u63A5\u6536\u6570\u636E\r\nconst {id,titile} = this.props.location.state\n"})}),"\n",(0,s.jsx)(n.h2,{id:"v5-\u8DEF\u7531\u7684\u4F7F\u7528",children:"V5 \u8DEF\u7531\u7684\u4F7F\u7528"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"\u8DEF\u7531\u8DF3\u8F6C"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-jsx",children:'import {Link,NavLink} from "react-router"\r\nlet link = <Link activeClassName="nav-active" className="nav" to="/about">\r\n  about\r\n</Link>\r\nlet nav = <NavLink activeClassName="nav-active" className="nav" to="/home">Home</NavLink>\r\n// activeClassName \u5904\u4E8E\u5F53\u524D\u8DEF\u7531\u65F6\uFF0C\u4F1A\u81EA\u52A8\u6DFB\u52A0\u8BE5\u7C7B \r\n// className \u5F53\u524D\u7EC4\u4EF6\u7C7B\u540D\r\n// to \u5F53\u524D\u7EC4\u4EF6\u5BF9\u5E94\u7684\u8DEF\u7531\r\n// NavLink \u4F1A\u6DFB\u52A0 class active\n'})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"\u6CE8\u518C\u8DEF\u7531"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-jsx",children:'import {Route} from \'react-router\'\r\nlet route = <Route path="/home" component={Home}></Route>\r\nlet route2 = <Route path="/about" exact component={About}></Route>\r\n// path \u76D1\u542C\u7684\u8DEF\u7531\r\n// component \u8BE5\u8DEF\u7531\u7ED1\u5B9A\u7684\u7EC4\u4EF6\r\n// exact \u662F\u5426\u9009\u62E9\u4E25\u683C\u5339\u914D   \r\n// \u5982\u679C\u5F53\u524D\u8DEF\u7531\u5BF9\u5E94\u4E0A\u4E86\u8DEF\u7531\u7EC4\u4EF6\u7ED1\u5B9A\u7684\u8DEF\u7531\uFF0C\u5219\u4F1A\u5C55\u793A\u6240\u7ED1\u5B9A\u7684\u7EC4\u4EF6\n'})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\u6A21\u7CCA\u5339\u914D","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\u5982\u679C\u7EC4\u4EF6\u76F8\u7B49\u6216\u8005\u662F\u5305\u542B\u5B50\u8DEF\u7531\uFF0C\u5219\u8FDB\u884C\u542F\u7528"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\u4E25\u683C\u5339\u914D","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\u5B8C\u5168\u76F8\u7B49\u65F6\uFF0C\u624D\u4F1A\u8FDB\u884C\u542F\u7528\u8BE5\u8DEF\u7531"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"\u91CD\u5B9A\u5411(Redirect)"}),"\n",(0,s.jsx)(n.p,{children:"\u7528\u6237\u81EA\u5DF1\u8F93\u5165\u8DEF\u7531\u7684\u65F6\u5019\uFF0C\u5982\u679C\u6CA1\u6709\u6CE8\u518C\uFF0C\u4E0D\u5C31\u4EC0\u4E48\u90FD\u6CA1\u6709\u5417\uFF0C\u91CD\u5B9A\u5411\u4F1A\u6307\u5B9A\u8FDB\u884C\u9ED8\u8BA4\u7684\u8DF3\u8F6C"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-jsx",children:"import {Redirct,Route} from 'react-router'\r\n<Route ....../>\r\n<Route ....../>      \r\n<Redirect to=\"/home\"/>      \r\n// Redirect \u653E\u5728\u6240\u6709\u8DEF\u7531\u7684\u4E0B\u9762\uFF0C\u6240\u6709\u90FD\u6CA1\u6709\u5339\u914D\u5230\uFF0C\u4F1A\u8DF3\u8F6C\u5230\u6307\u5B9A\u8DEF\u7531\n"})}),"\n",(0,s.jsx)(n.p,{children:"Switch \u8DEF\u7531"}),"\n",(0,s.jsx)(n.p,{children:"\u4F7F\u7528 Switch \u7EC4\u4EF6\u5305\u88F9\u4F4F\u7684\u6240\u6709\u8DEF\u7531\uFF0C\u5F53\u51FA\u73B0\u591A\u4E2A\u8DEF\u7531\u5339\u914D\u7684\u65F6\u5019\uFF0C\u53EA\u4F1A\u6E32\u67D3\u7B2C\u4E00\u4E2A\u5339\u914D\u7684\u7EC4\u4EF6"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-jsx",children:"import {Switch,Route,Redirect} from 'react-router'\r\nconst switch = <Switch>\r\n  <Route .../>\r\n  <Route .../>\r\n	<Redirect to=\"...\"/>\r\n</Switch>\n"})}),"\n",(0,s.jsx)(n.p,{children:"\u8DEF\u7531\u5668"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-jsx",children:"ReactDOM.render(<BrowserRouter>\r\n  <App></App>\r\n  </BrowserRouter>)\r\n// \u4E00\u5171\u6709\u4E24\u79CD\u8DEF\u7531\u65B9\u5F0F\r\n// HashRouter BrowserRouter\n"})}),"\n",(0,s.jsx)(n.p,{children:"\u5B9E\u73B0\u5BFC\u822A\u680F\u4E5F\u62E5\u6709\u8DEF\u7531\u5C5E\u6027"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-jsx",children:'import { withRouter } from "react-router-dom"\r\nclass Header extends Component{\r\n  goBack =()=>{\r\n    this.props.history.goBack()\r\n  }\r\n  go=()=>{\r\n    this.props.history.go()\r\n  }\r\n  render(){\r\n    console.log(this.props.history)\r\n    return (\r\n    	<div>\r\n        <h1>\u5BF9\u8DEF\u7531\u8FDB\u884C\u6D4B\u8BD5</h1>\r\n        <button onClick={this.goBack}>\u540E\u9000</button>\r\n        <button onClick={this.goForward}>\u524D\u8FDB</button>\r\n        <button onClick={this.go}>\u8DF3\u8F6C\u5230\u4E0A\u4E0A\u4E2A\u8DEF\u7531</button>\r\n      </div>\r\n    )\r\n  }\r\n}\r\nexport default withRouter(Header)\n'})})]})}function u(e={}){let{wrapper:n}={...(0,i.a)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},65:function(e,n,t){t.d(n,{Z:function(){return c},a:function(){return o}});var r=t(7294);let s={},i=r.createContext(s);function o(e){let n=r.useContext(i);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),r.createElement(i.Provider,{value:n},e.children)}}}]);