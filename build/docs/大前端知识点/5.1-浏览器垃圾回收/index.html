<!doctype html><html lang=zh-CN dir=ltr class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-大前端知识点/5.1-浏览器垃圾回收" data-has-hydrated=false><meta charset=UTF-8><meta name=generator content="Docusaurus v3.7.0"><title data-rh=true>5.1-浏览器垃圾回收 | Yelv的笔记本</title><meta data-rh=true name=viewport content="width=device-width, initial-scale=1.0"><meta data-rh=true name=twitter:card content=summary_large_image><meta data-rh=true property=og:url content=https://yelv.site/docs/大前端知识点/5.1-浏览器垃圾回收><meta data-rh=true property=og:locale content=zh_CN><meta data-rh=true name=docusaurus_locale content=zh-CN><meta data-rh=true name=docsearch:language content=zh-CN><meta data-rh=true name=docusaurus_version content=current><meta data-rh=true name=docusaurus_tag content=docs-default-current><meta data-rh=true name=docsearch:version content=current><meta data-rh=true name=docsearch:docusaurus_tag content=docs-default-current><meta data-rh=true property=og:title content="5.1-浏览器垃圾回收 | Yelv的笔记本"><meta data-rh=true name=description content="Create by fall on 09 Sep 2021"><meta data-rh=true property=og:description content="Create by fall on 09 Sep 2021"><link data-rh=true rel=icon href=/./svg/fallen_leaf.svg><link data-rh=true rel=canonical href=https://yelv.site/docs/大前端知识点/5.1-浏览器垃圾回收><link data-rh=true rel=alternate href=https://yelv.site/docs/大前端知识点/5.1-浏览器垃圾回收 hreflang=zh-CN><link data-rh=true rel=alternate href=https://yelv.site/docs/大前端知识点/5.1-浏览器垃圾回收 hreflang=x-default><link rel=alternate type=application/rss+xml href=/blog/rss.xml title="Yelv的笔记本 RSS Feed"><link rel=alternate type=application/atom+xml href=/blog/atom.xml title="Yelv的笔记本 Atom Feed"><link rel=stylesheet href=/assets/css/styles.c2e4bc48.css><script src=/assets/js/runtime~main.0e1e3ec5.js defer></script><script src=/assets/js/main.a9a7f46f.js defer></script><body class=navigation-with-keyboard><script>!function(){var t,e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t=null!==e?e:"light",document.documentElement.setAttribute("data-theme",t)}(),function(){try{for(var[t,e]of new URLSearchParams(window.location.search).entries())if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id=__docusaurus><div role=region aria-label=跳到主要内容><a class=skipToContent_evv2 href=#__docusaurus_skipToContent_fallback>跳到主要内容</a></div><nav aria-label=主导航 class="navbar navbar--fixed-top navbarHideable_DR3r"><div class=navbar__inner><div class=navbar__items><button aria-label=切换导航栏 aria-expanded=false class="navbar__toggle clean-btn" type=button><svg width=30 height=30 viewBox="0 0 30 30" aria-hidden=true><path stroke=currentColor stroke-linecap=round stroke-miterlimit=10 stroke-width=2 d="M4 7h22M4 15h22M4 23h22"/></svg></button><a class=navbar__brand href=/><div class=navbar__logo><img src=/./svg/boy_avatar.svg alt="My Site Logo" class="themedComponent_jGkr themedComponent--light_q8xF"><img src=/./svg/boy_avatar.svg alt="My Site Logo" class="themedComponent_jGkr themedComponent--dark_QPgF"></div><b class="navbar__title text--truncate">Yelv 的笔记本</b></a><a aria-current=page class="navbar__item navbar__link navbar__link--active" href=/docs/前端环境搭建>笔记</a><a class="navbar__item navbar__link" href=/blog>Blog</a></div><div class="navbar__items navbar__items--right"><a href=https://github.com/inshadow1 target=_blank rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_yvLq><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a><div class="toggle_BNzi colorModeToggle_GX4g"><button class="clean-btn toggleButton_RykJ toggleButtonDisabled_Ej6G" type=button disabled title=切换浅色/暗黑模式（当前为浅色模式） aria-label=切换浅色/暗黑模式（当前为浅色模式） aria-live=polite aria-pressed=false><svg viewBox="0 0 24 24" width=24 height=24 class=lightToggleIcon_YzKc><path fill=currentColor d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"/></svg><svg viewBox="0 0 24 24" width=24 height=24 class=darkToggleIcon_gN9v><path fill=currentColor d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"/></svg></button></div><div class=navbarSearchContainer_Orp6></div></div></div><div role=presentation class=navbar-sidebar__backdrop></div></nav><div id=__docusaurus_skipToContent_fallback class="main-wrapper mainWrapper_Aqwn"><div class=docsWrapper_yuk7><button aria-label=回到顶部 class="clean-btn theme-back-to-top-button backToTopButton_HTPM" type=button></button><div class=docRoot_geNn><aside class="theme-doc-sidebar-container docSidebarContainer_EH_S"><div class=sidebarViewport_X601><div class="sidebar_exRw sidebarWithHideableNavbar_nuZN"><a tabindex=-1 class=sidebarLogo_RnwF href=/><img src=/./svg/boy_avatar.svg alt="My Site Logo" class="themedComponent_jGkr themedComponent--light_q8xF"><img src=/./svg/boy_avatar.svg alt="My Site Logo" class="themedComponent_jGkr themedComponent--dark_QPgF"><b>Yelv 的笔记本</b></a><nav aria-label=文档侧边栏 class="menu thin-scrollbar menu_Xttl"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/docs/category/html-和-css>HTML 和 CSS</a><button aria-label="展开侧边栏分类 'HTML 和 CSS'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/docs/category/javascript--typescript>JavaScript & TypeScript</a><button aria-label="展开侧边栏分类 'JavaScript & TypeScript'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--active" href=/docs/category/大前端知识点>大前端知识点</a><button aria-label="折叠侧边栏分类 '大前端知识点'" aria-expanded=true type=button class="clean-btn menu__caret"></button></div><ul style=display:block;overflow:visible;height:auto class=menu__list><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href="/docs/大前端知识点/-- 前端的方向">-- 前端的方向</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href="/docs/大前端知识点/-- 服务器状态码">-- 服务器状态码</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/大前端知识点/1.1-浏览器工作原理>1.1-浏览器工作原理</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/大前端知识点/1.2-网页的网络交互>1.2-网页的网络交互</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/大前端知识点/1.3-SEO搜索引擎优化>1.3-SEO搜索引擎优化</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/大前端知识点/2.1-前端的发展>2.1-前端的发展</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/大前端知识点/2.2-Serverless>2.2-Serverless</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/大前端知识点/2.3-SPA介绍>2.3-SPA介绍</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/大前端知识点/2.4-PWA介绍>2.4-PWA介绍</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/大前端知识点/2.5-SSR服务端渲染>2.5-SSR服务端渲染</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/大前端知识点/2.6-Jamstack（SSG）>2.6-Jamstack（SSG）</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/大前端知识点/3.1-同源策略>3.1-同源策略</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/大前端知识点/3.2-HTTP协议>3.2-HTTP协议</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/大前端知识点/3.3-HTTP协议发展>3.3-HTTP协议发展</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/大前端知识点/3.4-HTTPS>3.4-HTTPS</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/大前端知识点/3.5-网络分层和基础>3.5-网络分层和基础</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/大前端知识点/3.6-TCP、IP协议>3.6-TCP、IP协议</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/大前端知识点/3.7-双向通信>3.7-双向通信</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/大前端知识点/4.1-浏览器缓存机制>4.1-浏览器缓存机制</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/大前端知识点/4.2-Session、Cookie、Token>4.2-Session、Cookie、Token</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/大前端知识点/4.3-CDN>4.3-CDN</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current=page tabindex=0 href=/docs/大前端知识点/5.1-浏览器垃圾回收>5.1-浏览器垃圾回收</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/大前端知识点/5.2-内存泄漏>5.2-内存泄漏</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/大前端知识点/5.3-性能指标、优化>5.3-性能指标、优化</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/大前端知识点/5.4-网站监控>5.4-网站监控</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/大前端知识点/6.1-网站安全>6.1-网站安全</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/大前端知识点/6.2-沙盒模式>6.2-沙盒模式</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/大前端知识点/6.3-用户追踪>6.3-用户追踪</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/大前端知识点/6.4-爬虫>6.4-爬虫</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/大前端知识点/7.1-Web3.0>7.1-Web3.0</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/大前端知识点/7.2-前端架构>7.2-前端架构</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href="/docs/大前端知识点/7.3-AOT & JIT">7.3-AOT & JIT</a></ul><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/docs/category/npm-包>npm 包</a><button aria-label="展开侧边栏分类 'npm 包'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/docs/category/vue>Vue</a><button aria-label="展开侧边栏分类 'Vue'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/docs/category/react>React</a><button aria-label="展开侧边栏分类 'React'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/docs/category/后端>后端</a><button aria-label="展开侧边栏分类 '后端'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/docs/category/linux--命令行>Linux & 命令行</a><button aria-label="展开侧边栏分类 'Linux & 命令行'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/docs/category/数据库>数据库</a><button aria-label="展开侧边栏分类 '数据库'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/docs/category/多平台开发>多平台开发</a><button aria-label="展开侧边栏分类 '多平台开发'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/docs/category/其它语言>其它语言</a><button aria-label="展开侧边栏分类 '其它语言'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/docs/category/软件工程知识>软件工程知识</a><button aria-label="展开侧边栏分类 '软件工程知识'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/docs/category/人工智能>人工智能</a><button aria-label="展开侧边栏分类 '人工智能'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/docs/category/面试-自检>面试-自检</a><button aria-label="展开侧边栏分类 '面试-自检'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/docs/git工具>git工具</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href="/docs/npm 和 nvm 的使用">npm 和 nvm 的使用</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/docs/前端环境搭建>前端环境搭建</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/docs/学习资料>学习资料</a></ul></nav></div></div></aside><main class=docMainContainer_chaf><div class="container padding-top--md padding-bottom--lg"><div class=row><div class="col docItemCol_MbFo"><div class=docItemContainer_k35T><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Bj4H" aria-label=页面路径><ul class=breadcrumbs itemscope itemtype=https://schema.org/BreadcrumbList><li class=breadcrumbs__item><a aria-label=主页面 class=breadcrumbs__link href=/><svg viewBox="0 0 24 24" class=breadcrumbHomeIcon_iLtS><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill=currentColor /></svg></a><li itemscope itemprop=itemListElement itemtype=https://schema.org/ListItem class=breadcrumbs__item><a class=breadcrumbs__link itemprop=item href=/docs/category/大前端知识点><span itemprop=name>大前端知识点</span></a><meta itemprop=position content=1><li itemscope itemprop=itemListElement itemtype=https://schema.org/ListItem class="breadcrumbs__item breadcrumbs__item--active"><span class=breadcrumbs__link itemprop=name>5.1-浏览器垃圾回收</span><meta itemprop=position content=2></ul></nav><div class="tocCollapsible_sD45 theme-doc-toc-mobile tocMobile_xywk"><button type=button class="clean-btn tocCollapsibleButton_vIkA">本页总览</button></div><div class="theme-doc-markdown markdown"><header><h1>5.1-浏览器垃圾回收</h1></header><blockquote>
<p>Create by <strong>fall</strong> on 09 Sep 2021
Recently revised in 13 Oct 2023</p>
</blockquote>
<h2 class="anchor anchorWithHideOnScrollNavbar_ZPNM" id=��垃圾回收>垃圾回收<a href=#垃圾回收 class=hash-link aria-label=垃圾回收的直接链接 title=垃圾回收的直接链接>​</a></h2>
<p><strong>为什么要进行垃圾回收？</strong></p>
<p>chrome 限制了 v8 引擎的内存使用（64 位约 1.4G/1464MB，32位约 0.7G/732MB）</p>
<p>内存大小的设置有两层原因，浏览器本身不可能遇到大量使用内存的场景。而且，清理内存很耗时间，会引起线程暂停，性能也会下降。</p>
<p>JS 引擎来手动的释放内存时。代码书写错误，会使垃圾回收机制无法正确对内存进行释放，从而使浏览器占用内存不断增加，JavaScript 和应用、操作系统性能下降。</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_ZPNM" id=回收机制>回收机制<a href=#回收机制 class=hash-link aria-label=回收机制的直接链接 title=回收机制的直接链接>​</a></h3>
<p>在 JavaScript 中，数据类型分为两类，简单类型（基本类型）和引用类型，对于简单类型，内存是保存在栈（stack）空间中，复杂数据类型，内存是保存在堆（heap）空间中。</p>
<ul>
<li>基本类型：这些类型在内存中分别占有固定大小的空间，他们的值保存在栈空间，我们通过按值来访问的。<!-- -->
<ul>
<li>而对于栈的内存空间，只保存简单数据类型的内存，<strong>由操作系统自动分配和自动释放</strong>。</li>
</ul>
</li>
<li>引用类型：引用类型，值大小不固定，栈内存中存放地址指向堆内存中的对象。是按引用访问的。<!-- -->
<ul>
<li>而堆空间中的内存，由于大小不固定，系统无法无法进行自动释放，这个时候就需要<strong>JS引擎来手动的释放这些内存</strong>。当代码书写错误时，会使垃圾回收机制无法正确对内存进行释放，从而使浏览器占用内存不断增加，也就是<a href=/docs/大前端知识点/5.2-内存泄漏>内存泄漏</a>。</li>
</ul>
</li>
</ul>
<p>大多数对象存活周期都很短，经历过一次垃圾回收后，就被释放掉，为了提高内存利用效率，堆被分成了两个部分。</p>
<ul>
<li>新生代（Young Generation）新生代中存放的是生存时间短的对象（通常为 1 - 8M 容量）<!-- -->
<ul>
<li>新生代包括 Nursery 和 Intermediate</li>
</ul>
</li>
<li>老生代（Old Generation）存放生存时间久的对象（支持容量会大很多）</li>
</ul>
<p>所以有两个垃圾回收器：</p>
<p>副垃圾回收器 - <code>Scavenge</code> 主要负责新生代的垃圾回收。</p>
<p>主垃圾回收器 - <code>Mark-Sweep & Mark-Compact</code> 主要负责老生代的垃圾回收（数据量大，数据存活时间长）。</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_ZPNM" id=新生代垃圾回收>新生代垃圾回收<a href=#新生代垃圾回收 class=hash-link aria-label=新生代垃圾回收的直接链接 title=新生代垃圾回收的直接链接>​</a></h3>
<p><strong>Scavenge</strong></p>
<p>副垃圾回收器 - <code>Scavenge</code></p>
<p>副垃圾回收器负责新生代垃圾回收，小对象（1 ～ 8M）会被分配到该区域处理</p>
<p>任何对象声明分配到的内存，会先放置到新生代中，特点是存活周期很短。</p>
<p>新生代采用 scavenge 算法处理：将新生代空间分为两半，一半空闲，一半存对象，对对象区域做标记，存活对象复制排列到空闲区域，没有内存碎片，完成后，清理对象区域，角色反转；</p>
<p>分别叫 <code>from-space</code> 和 <code>to-space</code>，工作方式也很简单，就是将 <code>from-space</code> 中存活的活动对象复制到 <code>to-space</code> 中，并将这些对象的内存有序的排列起来，然后将 <code>from-space</code> 中的非活动对象的内存进行释放，完成之后，将<code>from space</code> 和 <code>to space</code> 进行互换，这样可以使得新生代中的这两块区域可以重复利用。</p>
<img src=asset/f3aa64c441ac4b3c922dbeacf568486c~tplv-k3u1fbpfcp-watermark.jpg alt=https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f3aa64c441ac4b3c922dbeacf568486c~tplv-k3u1fbpfcp-watermark.image>
<p>总结来讲，就是</p>
<ul>
<li>标记非活动对象</li>
<li>把非活动对象从 <code>from space</code>复制到 <code>to space</code> 进行排序</li>
<li>释放 <code>from space</code> 的内存</li>
<li>把二者角色互换</li>
</ul>
<p>如何判断是否是非活动对象呢？</p>
<p>新生代区域采用标记 - 清除算法回收垃圾：从根元素开始，递归，可到达的元素活动元素，否则是垃圾数据；</p>
<p><u>对象的可达性</u>
表示从初始的根对象（window，global）的指针开始（ES6 提出了 <code>globalThis</code> 同时作为 node 和 browser 的跟指针），这个根指针对象被称为根集（root set），从这个根集向下搜索其子节点，被搜索到的子节点说明该节点的引用对象可达，并为其留下标记，然后递归这个搜索的过程，直到所有子节点都被遍历结束，那么没有被标记的对象节点，说明该对象没有被任何地方引用，可以证明这是一个需要被释放内存的对象，可以被垃圾回收器回收。</p>
<p>新生代对象什么时候变成老生代对象？</p>
<p>在新生代中，还进一步进行了细分，分为<code>nursery</code>子代和<code>intermediate</code>子代两个区域，一个对象第一次分配内存时会被分配到新生代中的<code>nursery</code>子代，如果进过下一次垃圾回收这个对象还存在新生代中，这时候我们移动到 <code>intermediate</code> 子代，再经过下一次垃圾回收，如果这个对象还在新生代中，副垃圾回收器会将该对象移动到老生代中，这个移动的过程被称为晋升。</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_ZPNM" id=老生代垃圾回收>老生代垃圾回收<a href=#老生代垃圾回收 class=hash-link aria-label=老生代垃圾回收的直接链接 title=老生代垃圾回收的直接链接>​</a></h3>
<p>新生代区域两次垃圾回收还存活的对象晋升至老生代区域；</p>
<p>垃圾回收器：Mark-Sweep & Mark-Compact</p>
<p>对于老生代对象来说，如果再使用新生代的 <code>scavenge</code> 算法的话，会出现两个问题：</p>
<ul>
<li>重复的复制算法导致效率低下</li>
<li><code>scavenge</code> 是牺牲空间换取时间的算法，老生代空间大，会导致浪费大量的空间</li>
</ul>
<p>所以清除方法是：标记清除（<code>Mark-Sweep</code>），标记整理（<code>Mark-Compact</code>）</p>
<img src=asset/11fd0de1b2dc454f8c4044db7f247dd3~tplv-k3u1fbpfcp-watermark.jpg alt=https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/11fd0de1b2dc454f8c4044db7f247dd3~tplv-k3u1fbpfcp-watermark.image>
<p>标记清除：标记了活动对象后，直接把非活动对象清除</p>
<ul>
<li>标记阶段：老生代进行第一次扫描，标记活动对象</li>
<li>清理阶段：对老生代进行第二次扫描，清除未被标记的对象，清理非活动对象</li>
</ul>
<p>但是回收结束后，会产生相当多的内存碎片接下来需要进行：标记整理</p>
<img src=asset/5794dcc43e774987a75234f4f5052434~tplv-k3u1fbpfcp-watermark.jpg alt=https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/5794dcc43e774987a75234f4f5052434~tplv-k3u1fbpfcp-watermark.image>
<p>标记整理：如果不清理这些对象，会导致下一次分配一个大对象时，空间碎片都无法进行分配。</p>
<p>将所有的活动对象往一端移动，移动完成后，直接清理掉边界外的内存。</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_ZPNM" id=全停顿>全停顿<a href=#全停顿 class=hash-link aria-label=全停顿的直接链接 title=全停顿的直接链接>​</a></h3>
<p>垃圾回收在 JS 引擎中进行的，Mark-Compact 算法需要移动对象，当活动的对象比较多，执行速度就会变慢，为了避免垃圾回收期的内存资源竞争导致的不一致的问题，会进行<strong>全停顿</strong>（stop the world）将 JavaScript 应用暂停。</p>
<ul>
<li>新生代中，空间小，存放对象少，Scavenge 执行效率快，全停顿影响不大</li>
<li>老生代中，对象较多，垃圾回收期会暂停主线程较长时间，导致界面变得卡顿</li>
</ul>
<h2 class="anchor anchorWithHideOnScrollNavbar_ZPNM" id=优化方法>优化方法<a href=#优化方法 class=hash-link aria-label=优化方法的直接链接 title=优化方法的直接链接>​</a></h2>
<p>Orinoco 是垃圾回收期的项目代号</p>
<p>V8 为了解决全停顿的问题，利用增量标记、懒性清理、并发、并行来降低主线程的挂起时间</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_ZPNM" id=增量标记>增量标记<a href=#增量标记 class=hash-link aria-label=增量标记的直接链接 title=增量标记的直接链接>​</a></h3>
<p>Incremental marking</p>
<p>增量标记会将原本的标记全堆对象拆分为一个一个任务，让其穿插在 JavaScript 应用逻辑之间执行，以此来降低垃圾回收的停顿时间。</p>
<p>增量标记允许堆的标记时的 5-10ms 的停顿。增量标记会在堆的大小达到一定阈值时启用，启用之后，每当一定量的内存分配后脚本的执行就会停顿，并进行一次增量标记。<img decoding=async loading=lazy src=https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/9fc9b4c9f94f4683b1079cb56f4963f0~tplv-k3u1fbpfcp-watermark.image alt=img class=img_pCAW></p>
<h3 class="anchor anchorWithHideOnScrollNavbar_ZPNM" id=懒清理>懒清理<a href=#懒清理 class=hash-link aria-label=懒清理的直接链接 title=懒清理的直接链接>​</a></h3>
<p>Lazy sweeping</p>
<p>增量标记只是对活动对象和非活动对象进行标记，惰性清理用来真正的释放内存。增量标记完成后，当可用内存足以快速执行代码时，是没有必要立即清理内存的。可以将清理的过程推迟，让 JS 逻辑代码先去执行。也无需一次性清理所有非活动对象的内存，垃圾回收期会逐一按需清理，直到所有页都清理完毕。</p>
<blockquote>
<p>增量标记和懒清理让主线成最大停顿时间减少了 80%，用户的交互变得流畅了许多，但是从实现机制上，每个增量标记之间执行了 JavaScript 代码，堆中对象指针可能发生变化，需要<strong>写屏障</strong>来记录这些引用关系的变化。</p>
<p>所以，懒清理的缺点也就显而易见</p>
<ul>
<li>并没有减少主线程的总暂停时间，甚至可能略微增加</li>
<li>写屏障（write-barrier）机制的成本，表计量会降低应用程序的吞吐量</li>
</ul>
</blockquote>
<h3 class="anchor anchorWithHideOnScrollNavbar_ZPNM" id=并发>并发<a href=#并发 class=hash-link aria-label=并发的直接链接 title=并发的直接链接>​</a></h3>
<p>Concurrent</p>
<p>并发不需要将主线程挂起，可以同时进行，只有个别时候需要短暂停下来去做一些事，两者可以同时进行，只有个别时间需要做一些特殊操作，也要面对增量回收的问题，由于JS代码在执行，引用关系也会变化，也需要写屏障</p>
<p><img decoding=async loading=lazy src=https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/2bc4f2f75764453a8fccf310299c064e~tplv-k3u1fbpfcp-watermark.image alt=img class=img_pCAW></p>
<h3 class="anchor anchorWithHideOnScrollNavbar_ZPNM" id=并行>并行<a href=#并行 class=hash-link aria-label=并行的直接链接 title=并行的直接链接>​</a></h3>
<p>Parallel</p>
<p>允许主线程和辅助线程做相同的GC工作，可以让辅助线程来分担主线程的GC工作，使得垃圾回收所耗费的时间等于总时间除以参与的线程的数量（会有一些同步开销）</p>
<p><img decoding=async loading=lazy src=https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/1196a621ab2942f6a8be2f9b940e5fad~tplv-k3u1fbpfcp-watermark.image alt=img class=img_pCAW></p>
<h2 class="anchor anchorWithHideOnScrollNavbar_ZPNM" id=v8-当前回收机制>V8 当前回收机制<a href=#v8-当前回收机制 class=hash-link aria-label="V8 当前回收机制的直接链接" title="V8 当前回收机制的直接链接">​</a></h2>
<p>2011 年，V8 应用了增量标记。2018年，Chrome64 和 Node.js V10 启动并发标记，同时在并发的基础上添加并行技术，使得垃圾回收时间大幅度缩短</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_ZPNM" id=副垃圾回收器>副垃圾回收器<a href=#副垃圾回收器 class=hash-link aria-label=副垃圾回收器的直接链接 title=副垃圾回收器的直接链接>​</a></h3>
<p>当活动对象从 from-to 复制到 <code>space-to</code> 的时候，会启用多个辅助线程，并行进行整理。多个线程竞争一个新生代的堆得内存资源，可能出现有某个活动对象被多个线程进行复制操作的问题，为了解决这个问题，V8在第一个线程对活动对象进行复制并且复制完成后，都必须去维护复制这个活动对象后的指针转发地址，以便于其他协助线程可以找到该活动对象后可以判断该活动对象是否已被复制。</p>
<p><img decoding=async loading=lazy src=https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b9bdfa09d1314b5ba9ca09e94464fd84~tplv-k3u1fbpfcp-watermark.image alt=img class=img_pCAW></p>
<h3 class="anchor anchorWithHideOnScrollNavbar_ZPNM" id=主垃圾回收器>主垃圾回收器<a href=#主垃圾回收器 class=hash-link aria-label=主垃圾回收器的直接链接 title=主垃圾回收器的直接链接>​</a></h3>
<p>当堆中的内存大小超过某个阈值之后，会启用并发，标记任务，每个辅助线程都会去追踪每个标记到的对象的指针以及对这个对象的引用。</p>
<p>在JS代码执行中，并发标记也在后台的辅助进程中进行，当某个指针对象被 JS 修改时，写入屏障技术会在辅助线程并发表及的时候，进行追踪。</p>
<p>当并发标记完成或者动态分配的内存达到极限的时候，住线程会执行最终的快速标记步骤，这个时候，主线程会挂起，进行再一次的扫描根集以确保所有的对象都完成了标记。由于辅助线程已经标记过活动对象，主线程的本次扫描只是进行check操作，确认完成之后，某些辅助线程会进行清理内存操作，某些辅助进程会进行内存整理操作，由于都是并发的，并不会影响主线程JavaScript代码的执行。</p>
<p>内存使用观察是否存在内存泄漏，而防止内存泄漏，是提升应用性能的一个重要举措。</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_ZPNM" id=参考文章>参考文章<a href=#参考文章 class=hash-link aria-label=参考文章的直接链接 title=参考文章的直接链接>​</a></h2>
<table><thead><tr><th>作者<th>链接<tbody><tr><td>杨溜溜<td><a href=https://juejin.cn/post/6876638765025067015 target=_blank rel="noopener noreferrer">https://juejin.cn/post/6876638765025067015</a></table>
<table><thead><tr><th>相关文章<th>链接<tbody><tr><td>写入屏障<td><a href=https://dl.acm.org/doi/book/10.5555/2025255 target=_blank rel="noopener noreferrer">https://dl.acm.org/doi/book/10.5555/2025255</a></table></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class=col><a href=https://github.com/my-docs/大前端知识点/5.1-浏览器垃圾回收.md target=_blank rel="noopener noreferrer" class=theme-edit-this-page><svg fill=currentColor height=20 width=20 viewBox="0 0 40 40" class=iconEdit_ImGc aria-hidden=true><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"/></g></svg>编辑此页</a></div><div class="col lastUpdated_fLB1"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label=文件选项卡><a class="pagination-nav__link pagination-nav__link--prev" href=/docs/大前端知识点/4.3-CDN><div class=pagination-nav__sublabel>上一页</div><div class=pagination-nav__label>4.3-CDN</div></a><a class="pagination-nav__link pagination-nav__link--next" href=/docs/大前端知识点/5.2-内存泄漏><div class=pagination-nav__sublabel>下一页</div><div class=pagination-nav__label>5.2-内存泄漏</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_vnXa thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href=#垃圾回收 class="table-of-contents__link toc-highlight">垃圾回收</a><ul><li><a href=#回收机制 class="table-of-contents__link toc-highlight">回收机制</a><li><a href=#新生代垃圾回收 class="table-of-contents__link toc-highlight">新生代垃圾回收</a><li><a href=#老生代垃圾回收 class="table-of-contents__link toc-highlight">老生代垃圾回收</a><li><a href=#全停顿 class="table-of-contents__link toc-highlight">全停顿</a></ul><li><a href=#优化方法 class="table-of-contents__link toc-highlight">优化方法</a><ul><li><a href=#增量标记 class="table-of-contents__link toc-highlight">增量标记</a><li><a href=#懒清理 class="table-of-contents__link toc-highlight">懒清理</a><li><a href=#并发 class="table-of-contents__link toc-highlight">并发</a><li><a href=#并行 class="table-of-contents__link toc-highlight">并行</a></ul><li><a href=#v8-当前回收机制 class="table-of-contents__link toc-highlight">V8 当前回收机制</a><ul><li><a href=#副垃圾回收器 class="table-of-contents__link toc-highlight">副垃圾回收器</a><li><a href=#主垃圾回收器 class="table-of-contents__link toc-highlight">主垃圾回收器</a></ul><li><a href=#参考文章 class="table-of-contents__link toc-highlight">参考文章</a></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class=footer__title>社区</div><ul class="footer__items clean-list"><li class=footer__item><a href="https://space.bilibili.com/488063421?spm_id_from=333.1007.0.0" target=_blank rel="noopener noreferrer" class=footer__link-item>bilibili<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_yvLq><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a><li class=footer__item><a href=https://github.com/inshadow1 target=_blank rel="noopener noreferrer" class=footer__link-item>Github<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_yvLq><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a></ul></div><div class="col footer__col"><div class=footer__title>联系</div><ul class="footer__items clean-list"><li class=footer__item><a href=# class=footer__link-item>微信号：q1601698207</a><li class=footer__item><a href=https://github.com/facebook/docusaurus target=_blank rel="noopener noreferrer" class=footer__link-item>GitHub<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_yvLq><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a></ul></div></div><div class="footer__bottom text--center"><div class=footer__copyright>Copyright © 2025 Yelv. Built with Docusaurus.<br><a href=https://beian.miit.gov.cn>鄂ICP备2025094277号</a></div></div></div></footer></div>